(this["webpackJsonpdynamicdq-ui"]=this["webpackJsonpdynamicdq-ui"]||[]).push([[0],{47:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return s}));n(137);var a=n(36),c=(n(558),n(67),function(e){return Object.keys(e).length}),i=function(e){return c(e.getLinks())>0?"fill":""},r=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))},s=function(e,t){e.response&&(console.log(e.response.data),console.log(e.response.status)),a.a.error({message:"[".concat(e.response.status,"] ").concat(t),description:e.response.data.error})}},561:function(e,t,n){"use strict";n.d(t,"a",(function(){return Va})),n.d(t,"b",(function(){return Ma})),n.d(t,"c",(function(){return Ha}));n(102);var a,c,i=n(40),r=n(33),s=n(49),o=(n(785),n(147)),l=n(8),d=n(0),j=n.n(d),u=n(224),b=n(219),O=n.n(b),h=n(1019),f=(n(200),n(105)),p=(n(805),n(389)),x=(n(326),n(101)),m=(n(807),n(390)),g=(n(182),n(72)),v=(n(86),n(30)),y=(n(137),n(36)),w=(n(199),n(48)),C=n(29),k=(n(183),n(42)),I=(n(230),n(84)),S=(n(232),n(111)),N=(n(121),n(58)),L=(n(271),n(50)),P=n(67),A=n(161),F=n(1002),E=n(1003),R=n(1004),D=n(556),T=n(557),z=n(320),V=function(e){var t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")||M("error","\u041e\u0448\u0438\u0431\u043a\u0430","[".concat(e,"] \u041d\u0415 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430"))}catch(n){M("error","\u041e\u0448\u0438\u0431\u043a\u0430","[".concat(e,"] \u041d\u0415 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430"))}document.body.removeChild(t)},M=function(e,t,n){y.a[e]({message:t,description:n})},H=n(2),G=["rowIndex","col","colIndex"],U=["rowIndex","rowData","colIndex","col"],K=["rowIndex","rowData","colIndex","col"],B=["rowIndex","colIndex"],Q=["rowIndex","colIndex","col"],W={dataKey:"index",width:35,align:"center",fixed:"left"},q={component:"input"},Z={colWidths:[],colStyles:[],scrollbarSize:0,selectedCells:[],editingCell:{},editValue:void 0},X=Object(d.createContext)({}),Y=function(e,t,n){return n&&n.editingCell.colIndex===t&&n.editingCell.rowIndex===e},J=function(e,t,n){return n&&-1!==n.selectedCells.findIndex((function(n){return n.colIndex===t&&n.rowIndex===e}))},_=function(e,t){return t&&-1!==t.selectedCells.findIndex((function(t){return t.rowIndex===e}))},$=function(e,t){var n=e.find((function(e,n){return n===t}));return!!n&&"input"===n.component},ee=function(e,t){var n=e.find((function(e,n){return n===t}));return!!n&&"checkbox"===n.component},te=function(e,t){return["editable-table-row",_(e,t)?"editable-table-row-selected":void 0].join(" ")},ne=function(e){var t=e.col,n=e.colIndex,a=e.columns;return["editable-table-cell",0===n?"editable-table-cell-index":void 0,t.align?"cell-align-".concat(t.align):void 0,"left"===t.fixed?"editable-table-cell-fix-left":void 0,"left"===t.fixed?a.find((function(e,t){return n<t&&"left"===e.fixed}))?void 0:"editable-table-cell-fix-left-last":void 0].join(" ")},ae=function(e){var t=e.rowIndex,n=e.colIndex,a=e.state;return[J(t,n,a)?"editable-table-cell-selected":void 0,Y(t,n,a)?"editable-table-cell-editing":void 0].join(" ")},ce=function(e){if("null"===e)return null;switch(typeof e){case"string":if(!(e.length>0||e.trim()))return null;if(e.includes('"'))return JSON.stringify(e.trim());e.trim();default:return e}},ie=function(e,t,n,a){var c={};return"left"===n.fixed&&a&&a.length>0&&(c.left=e.reduce((function(e,n,c){return c<t&&"left"===n.fixed?e+a[c]:e}),0)),c},re=function(e){for(var t=e.colWidths,n=void 0===t?[]:t,a=e.scrollbarSize,c=e.body,i=[],r=0;r<n.length;r++){var s=n[r];i.push(Object(H.jsx)("col",{style:{width:s}},r))}return a&&c&&c.scrollTopMax>0&&i.push(Object(H.jsx)("col",{style:{width:a}},n.length)),Object(H.jsx)("colgroup",{children:i})},se=function(e){for(var t=e.rowIndex,n=Object(d.useContext)(X),a=n.state,c=n.columns,i=[],r=0;r<c.length;r++)i.push(Object(H.jsx)(oe,{rowIndex:t,col:c[r],colIndex:r,style:a.colStyles[r]},r));return Object(H.jsx)("tr",{className:te(t),children:i},"editable-table-row-".concat(t))},oe=function(e){var t=e.rowIndex,n=e.col,a=e.colIndex,c=Object(A.a)(e,G),i=Object(d.useRef)(null),r=Object(d.useContext)(X),s=r.state,o=r.columns,j=r.setState,u=r.onChangeValue;Object(d.useEffect)((function(){return s.draggingColIndex===a&&(window.addEventListener("mousemove",h,!1),window.addEventListener("mouseup",O,!1)),function(){s.draggingColIndex===a&&(window.removeEventListener("mousemove",h,!1),window.removeEventListener("mouseup",O,!1))}}),[s.draggingColIndex]);var b,O=function(e){s.draggingColIndex===a&&j((function(e){return Object(l.a)(Object(l.a)({},e),{},{draggingColIndex:-1})}))},h=function(e){var t=e.clientX;if(i.current){var n=i.current.offsetParent,c=n.getBoundingClientRect(),r=t+n.scrollLeft-c.left;j((function(e){var t=Object(P.a)(e.colWidths);t[a]=r;var n=o.map((function(e,n){return ie(o,n,e,t)}));return Object(l.a)(Object(l.a)({},e),{},{colWidths:t,colStyles:n})}))}};return Object(H.jsxs)("th",Object(l.a)(Object(l.a)({className:[n.className,ae({rowIndex:t,colIndex:a,state:s})].join(" ")},c),{},{children:[Object(H.jsx)("div",{className:"title",children:n.title}),n.resizable&&Object(H.jsx)("div",{ref:s.draggingColIndex===a?i:void 0,className:"column-resizer",onMouseDown:(b=a,function(e){if(s.editValue){var t=s.editingCell,n=t.rowIndex,a=t.colIndex;u(n,a,s.editValue),j((function(e){return Object(l.a)(Object(l.a)({},e),{},{editingCell:{},editValue:void 0,draggingColIndex:b})}))}else j((function(e){return Object(l.a)(Object(l.a)({},e),{},{draggingColIndex:b})}))})})]}),"editable-table-cell-".concat(t,"-").concat(a))},le=Object(z.a)((function(e){return Object(H.jsx)("tbody",{className:"editable-table-tbody",children:Object(H.jsx)(de,Object(l.a)({},e))})})),de=function(e){var t=e.data;return(void 0===t?[]:t).map((function(e,t){return Object(H.jsx)(je,{index:t,rowIndex:t,rowData:e},"editable-table-row-".concat(t))}))},je=Object(z.b)((function(e){for(var t=e.rowIndex,n=e.rowData,a=Object(d.useContext)(X),c=a.state,i=a.columns,r=[],s=0;s<i.length;s++)r.push(Object(H.jsx)(ue,{rowIndex:t,rowData:n,colIndex:s,col:i[s],style:c.colStyles[s]},s));return Object(H.jsx)("tr",{className:te(t,c),children:r})})),ue=function(e){var t,n,a=e.rowIndex,c=e.rowData,i=e.colIndex,r=e.col,o=Object(A.a)(e,U),j=Object(d.useContext)(X),u=j.state,b=j.onCellClick,O="checkbox"===r.component?"checked":"value",h=(t={},Object(s.a)(t,O,"checkbox"===r.component?c[r.dataKey]:u.editValue),Object(s.a)(t,"bordered",!1),Object(s.a)(t,"size","small"),t);return n=0===i?Object(H.jsx)(Oe,{rowData:c,col:r}):"checkbox"===r.component?Object(H.jsx)(pe,Object(l.a)(Object(l.a)({},h),{},{rowIndex:a,colIndex:i})):Y(a,i,u)?"select"===r.component?Object(H.jsx)(xe,Object(l.a)(Object(l.a)({},h),{},{rowIndex:a,colIndex:i,col:r})):Object(H.jsx)(fe,Object(l.a)({},h)):Object(H.jsx)(he,{rowIndex:a,rowData:c,colIndex:i,col:r}),Object(H.jsx)("td",Object(l.a)(Object(l.a)({},o),{},{className:[r.className,ae({rowIndex:a,colIndex:i,state:u})].join(" "),onClick:b({col:r,colIndex:i,rowIndex:a,rowData:c}),children:n}),"editable-table-cell-".concat(a,"-").concat(i))},be=function(e){var t=e.rowIndex,n=e.onAddRow,a=e.onRemoveRow,c=e.onRemoveSelectedRows;return function(e){switch(e.key){case"addUp":n(t);break;case"addDown":n(t+1);break;case"addLast":n(null);break;case"remove":a(t);break;case"removeSelected":c()}}},Oe=Object(z.c)((function(e){var t=e.rowData,n=e.col;return Object(H.jsx)("div",{className:"text",children:t[n.dataKey]})})),he=function(e){var t,n=e.rowIndex,a=e.rowData,c=e.colIndex,i=e.col,r=Object(A.a)(e,K),s=Object(d.useContext)(X),o=s.state,j=s.onPasteCells,u=s.onAddRow,b=s.onRemoveRow,O=s.onRemoveSelectedRows;return Object(H.jsx)(S.a,{overlay:(t={rowIndex:n,onAddRow:u,onRemoveRow:b,onRemoveSelectedRows:O},Object(H.jsxs)(L.a,{onClick:be(t),className:"context-menu",children:[Object(H.jsxs)(L.a.Item,{children:[Object(H.jsx)(F.a,{}),"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \u0432\u044b\u0448\u0435"]},"addUp"),Object(H.jsxs)(L.a.Item,{children:[Object(H.jsx)(E.a,{}),"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \u043d\u0438\u0436\u0435"]},"addDown"),Object(H.jsxs)(L.a.Item,{children:[Object(H.jsx)(E.a,{}),"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \u0432 \u043a\u043e\u043d\u0435\u0446"]},"addLast"),Object(H.jsxs)(L.a.Item,{children:[Object(H.jsx)(R.a,{}),"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443"]},"remove"),Object(H.jsxs)(L.a.Item,{children:[Object(H.jsx)(R.a,{}),"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0441\u0442\u0440\u043e\u043a\u0438"]},"removeSelected")]})),trigger:["contextMenu"],children:Object(H.jsx)(N.a,Object(l.a)(Object(l.a)({},r),{},{ref:function(e){J(n,c,o)&&e&&e.focus()},className:void 0===a[i.dataKey]||null===a[i.dataKey]?"null-text":"text",value:void 0===a[i.dataKey]?"<undefined>":null===a[i.dataKey]?"<null>":"".concat(a[i.dataKey]),bordered:!1,size:"small",onPaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text").trim().split("\n");j(t)}}))})},fe=function(e){var t=Object(d.useContext)(X).onChangeInput;return Object(H.jsx)(N.a,Object(l.a)(Object(l.a)({},e),{},{ref:function(e){e&&e.focus()},onChange:function(e){return t(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()}}))},pe=function(e){var t=e.rowIndex,n=e.colIndex,a=Object(A.a)(e,B),c=Object(d.useContext)(X),i=c.onChangeInputWithSave,r=c.state;return Object(H.jsx)(I.a,Object(l.a)(Object(l.a)({},a),{},{ref:function(e){J(t,n,r)&&e&&e.focus()},onChange:function(e){return i(t,n,e.target.checked)}}))},xe=function(e){var t,n=e.rowIndex,a=e.colIndex,c=e.col,i=Object(A.a)(e,Q),r=Object(d.useContext)(X).onChangeInputWithSave;return Object(H.jsx)(k.a,Object(l.a)(Object(l.a)(Object(l.a)({},i),c.props),{},{ref:function(e){e&&e.focus()},style:Object(l.a)({width:"100%"},null===(t=c.props)||void 0===t?void 0:t.style),defaultOpen:!0,onChange:function(e){return r(n,a,e)}}))},me=function(e){var t=Object(d.useMemo)((function(){var t=[Object(l.a)({},W)].concat(Object(P.a)(e.columns));return t.map((function(e,n){return Object(l.a)(Object(l.a)(Object(l.a)({},q),e),{},{className:ne({col:e,colIndex:n,columns:t})})}))}),[e.columns]),n=Object(d.useMemo)((function(){return e.data&&e.data.map((function(e,t){return Object(l.a)(Object(l.a)({},e),{},{index:t})}))||[]}),[e.data]),a=Object(d.useRef)(null),c=Object(d.useRef)(null),i=Object(d.useState)(function(e){var t=e.map((function(e){return e.width})),n=e.map((function(n,a){return ie(e,a,n,t)}));return Object(l.a)(Object(l.a)({},Z),{},{colWidths:t,colStyles:n})}(t)),o=Object(r.a)(i,2),j=o[0],u=o[1],b=Object(T.getTargetScrollBarSize)(c.current).width,O=Object(D.a)();Object(d.useEffect)((function(){O&&u(Object(l.a)(Object(l.a)({},j),{},{colWidths:t.map((function(e){return e.width}))}))}),[t]),Object(d.useEffect)((function(){}),[j.colWidths]),Object(d.useEffect)((function(){return window.addEventListener("keydown",g,!1),window.addEventListener("keyup",v,!1),function(){window.removeEventListener("keydown",g,!1),window.removeEventListener("keyup",v,!1)}}),[j]);var h=function(e){u(Object(l.a)(Object(l.a)({},j),{},{editValue:e}))},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;u(Object(l.a)(Object(l.a)({},j),{},{selectedCells:[{rowIndex:e,colIndex:t}],editingCell:n?{rowIndex:e,colIndex:t}:{},editValue:a}))},p=function(e,t){u((function(n){return Object(l.a)(Object(l.a)({},n),{},{selectedCells:[].concat(Object(P.a)(n.selectedCells),[{rowIndex:e,colIndex:t}])})}))},x=function(e,a){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(void 0===c){var i=t.find((function(e,t){return t===a})).dataKey;f(e,a,!0,n[e][i])}else f(e,a,!0,c)},m=function(e,a,c,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=a,o=c;switch(e){case"up":s=s-1>=0?s-1:s;break;case"right":o=t.length>o+1?o+1:o;break;case"down":s=n.length>s+1?s+1:s;break;case"left":o=o-1>0?o-1:o}console.log("moveTo: direction: [%s], _colIndex: [%s], _rowIndex: [%s], editing: [%s], editValue: [%s]",e,o,s,i,r),f(s,o,i,r)},g=function(e){(9===e.keyCode||48<=e.keyCode&&e.keyCode<=90)&&y(e)},v=function(e){9!==e.keyCode&&(e.keyCode<48||90<e.keyCode)&&y(e)},y=function(a){if(c&&c.current&&c.current.contains(a.target)&&j.selectedCells.length>0){var i=j.selectedCells[j.selectedCells.length-1],r=i.rowIndex,s=i.colIndex,o=Y(r,s,j),l=$(t,s),d=ee(t,s),u=function(e){return m(e,r,s,!1)},b=function(){return w(r,s,j.editValue)};if(!a.metaKey&&!a.ctrlKey&&48<=a.keyCode&&a.keyCode<=90&&!o)m(null,r,s,!0,a.key),a.preventDefault();else if((a.metaKey||a.ctrlKey)&&67===a.keyCode)k(),a.preventDefault();else if((a.metaKey||a.ctrlKey)&&86===a.keyCode);else switch(a.keyCode){case 9:o&&b(),u("right"),a.stopPropagation(),a.preventDefault();break;case 13:o?(l&&b(),u("down")):!d&&x(r,s),a.stopPropagation(),a.preventDefault();break;case 27:u(null);break;case 32:d&&function(e,a){var c=t.find((function(e,t){return t===a})).dataKey;w(e,a,!n[e][c])}(r,s),!d&&!o&&m(null,r,s,!0,a.key),a.preventDefault();break;case 37:!o&&u("left");break;case 38:!o&&u("up");break;case 39:!o&&u("right");break;case 40:!o&&u("down");break;case 8:case 46:if(!o){var O=j.selectedCells[0];!function(a,c,i,r){for(var s=Object(P.a)(n),o=a>i?a:i,l=c<r?c:r,d=c>r?c:r,j=a<i?a:i;j<=o;j++)for(var u=function(e){var n=t.find((function(t,n){return n===e})).dataKey;s[j][n]=null},b=l;b<=d;b++)u(b);e.onChange(s)}(O.rowIndex,O.colIndex,r,s)}a.preventDefault()}}},w=function(a,c,i){var r=t.find((function(e,t){return t===c})).dataKey,s=ce(i),o=Object(P.a)(n);o[a][r]=s,e.onChange(o)},k=function(){if(j.selectedCells&&j.selectedCells.length>0){for(var e={},a=[],c=function(a){var c=j.selectedCells[a],i=c.rowIndex,r=c.colIndex,s=t.find((function(e,t){return t===r})).dataKey;e[i]||(e[i]=[]),e[i].push(n[i][s])},i=0;i<j.selectedCells.length;i++)c(i);for(var r in e){for(var s="",o=0;o<e[r].length;o++){var l=ce(e[r][o]);s+=null!==l?0===o?"".concat(l):",".concat(l):0===o?"":","}a.push(s)}d=a.join("\n")||null,navigator.clipboard?navigator.clipboard.writeText(d).then((function(){}),(function(){return M("error","\u041e\u0448\u0438\u0431\u043a\u0430","\u041e\u0448\u0438\u0431\u043a\u0430 \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430")})):V(d)}var d},I=function(a){var c={};if(n.length>0)for(var i in n[0])c[i]=null;else t.forEach((function(e){return c[e.dataKey]=null}));var r=Object(P.a)(n);null===a?r.splice(n.length,0,c):-1===a?r.splice(0,0,c):r.splice(a,0,c),e.onChange(r)};return console.log("# Render editable-table",j.selectedCells&&j.selectedCells.length),Object(H.jsx)(X.Provider,{value:{state:j,columns:t,setState:u,onCellClick:function(e){var n=e.rowIndex,a=(e.rowData,e.colIndex);e.col;return function(e){if(0!==a)if(1===e.detail)if(j.editValue){var c=j.editingCell,i=c.rowIndex,r=c.colIndex;if(n===i&&a===r)return;$(t,r)&&w(i,r,j.editValue),function(e,t){var n=e.find((function(e,n){return n===t}));return!!n&&"select"===n.component}(t,r)&&m("down",i,r,!1),f(n,a)}else if(e.shiftKey){var s=j.selectedCells[0];!function(e,t,n,a){var c=e<n?e:n,i=e>n?e:n,r=t<a?t:a,s=t>a?t:a;f(e,t);for(var o=c;o<=i;o++)for(var l=r;l<=s;l++)o===e&&l===t||p(o,l)}(s.rowIndex,s.colIndex,n,a)}else if(e.metaKey||e.ctrlKey){var o=j.selectedCells[0];o.rowIndex,o.colIndex;p(n,a)}else f(n,a);else 2===e.detail&&!ee(t,a)&&!Y(n,a,j)&&x(n,a)}},onChangeInput:h,onChangeInputWithSave:function(e,t,n){h(n),w(e,t,n)},onChangeValue:w,onPasteCells:function(a){if(j.selectedCells&&j.selectedCells.length>0){for(var c,i=j.selectedCells[0],r=i.rowIndex,o=i.colIndex,l=t.find((function(e,t){return t===o})).dataKey,d=Object(P.a)(n),u=r,b=0;b<a.length;b++)c=ce(a[b]),u>=n.length?d.push(Object(s.a)({},l,c)):d[u][l]=c,u+=1;e.onChange(d)}},onAddRow:I,onRemoveRow:function(t){var a=Object(P.a)(n);a.splice(t,1),e.onChange(a)},onRemoveSelectedRows:function(){if(j.selectedCells&&j.selectedCells.length>0){var t=Object(P.a)(n),a=j.selectedCells.map((function(e){return e.rowIndex}));t=t.filter((function(e){return!a.includes(e.index)})),e.onChange(t)}}},children:Object(H.jsxs)(C.h,{children:[Object(H.jsx)("div",{ref:a,className:"editable-table-header",children:Object(H.jsxs)("table",{className:"editable-table",children:[Object(H.jsx)(re,{colWidths:j.colWidths,scrollbarSize:b,body:c.current}),Object(H.jsx)("thead",{className:"editable-table-thead",children:Object(H.jsx)(se,{rowIndex:-1})})]})}),Object(H.jsxs)("div",{ref:c,className:"editable-table-body",style:{display:"flex",flexDirection:"column"},onScroll:function(e){var t=e.currentTarget,n=e.scrollLeft,c="number"===typeof n?n:t.scrollLeft,i=a.current;i&&("function"===typeof i?i(c):i.scrollLeft!==c&&(i.scrollLeft=c))},children:[Object(H.jsxs)("table",{className:"editable-table",children:[Object(H.jsx)(re,{colWidths:j.colWidths}),Object(H.jsx)(le,{data:n,onSortEnd:function(t){!function(t,a){if(a>=0&&a<n.length){var c=Object(P.a)(n),i=c.splice(t,1);c.splice(a>0?a:0,0,i[0]),j.selectedCells&&j.selectedCells.length>0&&u((function(e){var n=Object(l.a)({},e),c=j.selectedCells[0].rowIndex;return c===t?(n.selectedCells[0].rowIndex=a,n.editingCell.rowIndex=a):t<=c&&c<=a?(n.selectedCells[0].rowIndex-=1,n.editingCell.rowIndex-=1):a<=c&&c<=t&&(n.selectedCells[0].rowIndex+=1,n.editingCell.rowIndex+=1),n})),e.onChange(c)}}(t.oldIndex,t.newIndex)},useDragHandle:!0})]}),Object(H.jsx)(S.a,{trigger:["contextMenu"],overlay:Object(H.jsx)(L.a,{onClick:function(){return I(n.length)},children:Object(H.jsxs)(L.a.Item,{children:[Object(H.jsx)(E.a,{}),"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443"]},"addUp")}),children:Object(H.jsx)("div",{style:{display:"flex",flex:"auto"}})})]})]})})},ge=(n(136),n(44)),ve=n(317),ye=n(1005),we=n(1006),Ce={visible:[null,!0,!1],typeData:["uuid","text","json","int","timestamp","date","time","bool","double"],typeField:[null,"column","link","linkBack","custom","customAggregate"],align:["left","center","right"]},ke=[{title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",dataKey:"name",width:250,resizable:!0,fixed:"left"},{title:"\u041f\u0441\u0435\u0432\u0434\u043e\u043d\u0438\u043c",dataKey:"alias",width:200,resizable:!0},{title:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",dataKey:"header",resizable:!0,width:250},{title:"Align",dataKey:"align",component:"select",props:{showSearch:!0,options:Ce.align.map((function(e){return{label:"".concat(e),value:e}}))},width:75},{title:"T data",dataKey:"typeData",component:"select",props:{showSearch:!0,options:Ce.typeData.map((function(e){return{label:"".concat(e),value:e}}))},width:75},{title:"T field",dataKey:"typeField",component:"select",props:{showSearch:!0,options:Ce.typeField.map((function(e){return{label:"".concat(e),value:e}}))},width:120},{title:"Width",dataKey:"width",width:50},{title:Object(H.jsx)(ge.a,{title:"Visible",children:Object(H.jsx)(ve.a,{})}),dataKey:"visible",align:"center",width:25,component:"checkbox"},{title:Object(H.jsx)(ge.a,{title:"Sortable",children:Object(H.jsx)(ye.a,{})}),dataKey:"sortable",align:"center",component:"checkbox",width:25},{title:Object(H.jsx)(ge.a,{title:"Resizable",children:Object(H.jsx)(we.a,{})}),dataKey:"resizable",align:"center",component:"checkbox",width:25},{title:"\u0421\u0441\u044b\u043b\u043a\u0430",dataKey:"linkPath",resizable:!0,width:200},{title:"\u041f\u043e\u043b\u0435 \u0441\u0441\u044b\u043b\u043a\u0438",dataKey:"linkView",resizable:!0,width:200},{title:"Filter fields",dataKey:"filterFields",resizable:!0,width:150},{title:"Filter signs",dataKey:"filterSigns",resizable:!0,width:150},{title:"Default filter",dataKey:"defaultFilter",resizable:!0,width:115},{title:"Default sort",dataKey:"defaultSort",resizable:!0,width:115},{title:"Filter inside",dataKey:"filterInside",resizable:!0,width:115},{title:"Order by inside",dataKey:"orderByInside",resizable:!0,width:125}],Ie=n(1007),Se=n(1008),Ne=n(1009),Le=n(1010),Pe=O.a.create({baseURL:"/",timeout:12e5,headers:{"Content-type":"application/json"}}),Ae=function(e){return e.response&&401===e.response.status&&(window.location.href="/login"),Promise.reject(e)},Fe=function(e){return Pe(Object(l.a)({},e)).then((function(e){return e})).catch(Ae)},Ee=function(e){return Fe({method:"GET",url:"/api".concat(e)})},Re=function(e,t){return Fe({method:"POST",url:"/api".concat(e),data:t})},De=function(e){return function(){return Fe({method:"GET",url:"/api".concat(e)})}},Te=function(e){return function(t){var n=t.params,a=t.data;return Fe({method:"POST",url:"/api".concat(e),params:n,data:a})}},ze=function(e){var t,n,a;console.error(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data),y.a.error({message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445",description:null===e||void 0===e||null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error})},Ve=n(83),Me=function(e){var t=e.span,n=e.label,a=e.value,c=e.onChange,i=Object(d.useRef)();return Object(d.useEffect)((function(){i.current&&i.current.focus()}),[a]),Object(H.jsx)(vt,{span:t,label:n,children:Object(H.jsx)(N.a,{size:"small",ref:i,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 ".concat(n),value:a,onChange:function(e){return c(ce(e.target.value))}})})},He=function(e){var t=e.span,n=e.label,a=e.value,c=e.onChange;return Object(H.jsx)(vt,{span:t,label:n,children:Object(H.jsx)(C.d,{size:"small",value:a,onChange:function(e){return c(e)}})})},Ge=function(e){var t=e.id,n=e.span,a=e.label,c=e.name,i=e.value,r=e.onChange;Object(d.useEffect)((function(){}),[]);var o=function(e){var t;e((t=i,Object(s.a)({},c,t?t.map((function(e){return{name:e}})):[])))};return Object(H.jsx)(vt,{span:n,label:a,children:Object(H.jsx)(C.c,{subscribe:[{name:"".concat(t,".").concat(c),path:"rtd.query.config.".concat(t,".preview.filters.").concat(c),onChange:function(e){var t,n=e.value;r((t=n,Array.isArray(t[c])?t[c].map((function(e){return e.name})):[]))}}],render:function(){return Object(H.jsx)(C.i,{buttonProps:{size:"small",label:"\u042d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432: ".concat(i?i.length:0),type:"default",style:{width:"100%"}},toolTipProps:{title:a},dispatch:{path:"query.config.".concat(t,".preview.filters.").concat(c)},modalConfig:{type:"save",title:a,width:600,bodyStyle:{height:500},form:{name:"TableList",noPadding:!0,loadInitData:o}},children:Object(H.jsx)(wt,{name:c,columns:[{title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",dataKey:"name"}]})})}})})},Ue=function(e){var t=e.data,n=e.type,a=e.Component,c=Object(d.useState)(!1),o=Object(r.a)(c,2),j=o[0],u=o[1],b=Object(d.useState)(!0),O=Object(r.a)(b,2),h=O[0],p=O[1],x=Object(d.useState)({fixWidthColumn:!0,infinityMode:!1,zebraStyle:!1,selectable:!1,nodeAssociated:!0}),m=Object(r.a)(x,2),y=m[0],w=m[1],k=Object(d.useState)({}),I=Object(r.a)(k,2),S=I[0],N=I[1],L=Object(Ve.d)((function(e){var n,a,c,i;return null===e||void 0===e||null===(n=e.rtd)||void 0===n||null===(a=n.query)||void 0===a||null===(c=a.config)||void 0===c||null===(i=c[t.id])||void 0===i?void 0:i.form}));Object(d.useEffect)((function(){j||setTimeout((function(){return u(!0)}),20)}),[j]),Object(d.useEffect)((function(){h&&u(!1)}),[S]);var P=function(e){return function(t){var n=t.target.checked;u(!1),w(Object(l.a)(Object(l.a)({},y),{},Object(s.a)({},e,n)))}},A=function(e){var t=e.name,n=e.label;return Object(H.jsx)(C.b,{checked:y[t],onChange:P(t),children:n})},F=function(e){return function(t){N(t?Object(l.a)(Object(l.a)({},S),{},Object(s.a)({},e,t)):Object(l.a)(Object(l.a)({},S),{},Object(s.a)({},e,void 0)))}};return Object(H.jsxs)(C.h,{children:[Object(H.jsxs)(i.b,{direction:"vertical",style:{marginBottom:"8px"},children:[Object(H.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",paddingRight:"8px"},children:[Object(H.jsxs)(i.b,{children:[Object(H.jsx)(v.a,{size:"small",icon:Object(H.jsx)(Ie.a,{}),onClick:function(){return u(!1)},children:"Reload preview"}),Object(H.jsx)(C.b,{checked:h,onChange:function(e){return p(e.target.checked)},children:"Online update filter"})]}),Object(H.jsxs)(i.b,{children:[Object(H.jsx)(A,{name:"fixWidthColumn",label:"Fix width column"}),Object(H.jsx)(A,{name:"selectable",label:"Selectable"}),Object(H.jsx)(A,{name:"zebraStyle",label:"Zebra style"}),Object(H.jsx)(A,{name:"nodeAssociated",label:"Node associated"})]})]}),Object(H.jsx)(g.a,{gutter:8,children:function(){var e,n=L?L.id:t.id;return(L?L.fields:t.fields).map((function(t){if((null===t||void 0===t?void 0:t.filterFields)&&(null===t||void 0===t?void 0:t.filterSigns)){var a=t.filterFields.split("/"),c=t.filterSigns.split("/");if(a.length===c.length)return a.map((function(a,i){return e="in"===c[i]?Ge:["timestamp","date"].includes(t.typeData)?He:Me,Object(H.jsx)(e,{id:n,span:3,label:"".concat(a," [").concat(c[i],"]"),name:a,value:S[a],onChange:F(a)},i)}))}}))}()})]}),j?Object(H.jsx)(C.h,{children:Object(H.jsx)(a,Object(l.a)(Object(l.a)({},y),{},{defaultFilter:S,requestLoadRows:"SQL"===n?Te(L?L.url.data.sql:t.url.data.sql):L?L.hierarchical?Te(L.url.data.hierarchical):Te(L.url.data.flat):t.hierarchical?Te(t.url.data.hierarchical):Te(t.url.data.flat),requestLoadConfig:De(t.url.configuration.get)}))}):Object(H.jsx)(f.a,{})]})},Ke=n(999),Be=function(){return Object(H.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-code",width:"12",height:"12",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#000000",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(H.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(H.jsx)("polyline",{points:"7 8 3 12 7 16"}),Object(H.jsx)("polyline",{points:"17 8 21 12 17 16"}),Object(H.jsx)("line",{x1:"14",y1:"4",x2:"10",y2:"20"})]})},Qe=function(){return Object(H.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 13 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:Object(H.jsx)("path",{d:"M12.5357 0C12.2789 0 9.51786 0 9.51786 0H6.5H0.464286C0.207478 0 0 0.210795 0 0.47171V11.5283C0 11.7892 0.207478 12 0.464286 12H12.5357C12.7925 12 13 11.7892 13 11.5283V0.47171C13 0.210795 12.7925 0 12.5357 0ZM11.9167 4.69565H9.20833V2.6087H11.9167V4.69565ZM11.9167 7.82609H9.20833V5.73913H11.9167V7.82609ZM4.875 5.73913H8.125V7.82609H4.875V5.73913ZM8.125 4.69565H4.875V2.6087H8.125V4.69565ZM1.08333 5.73913H3.79167V7.82609H1.04464L1.08333 5.73913ZM1.08333 2.6087H3.79167V4.68851H1.04464L1.08333 2.6087ZM1.08333 8.86957H3.79167V10.9565H1.08333V8.86957ZM4.875 8.86957H8.125V10.9565H4.875V8.86957ZM11.9167 10.9565H9.20833V8.86957H11.9167V10.9565Z"})})},We=function(){return Object(H.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 13 12",fill:"currentColor",stroke:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(H.jsx)("path",{d:"M12.5357 0C12.2789 0 9.51786 0 9.51786 0H6.5H0.464286C0.207478 0 0 0.210795 0 0.47171V11.5283C0 11.7892 0.207478 12 0.464286 12H12.5357C12.7925 12 13 11.7892 13 11.5283V0.47171C13 0.210795 12.7925 0 12.5357 0ZM11.9167 4.69565H9.20833V2.6087H11.9167V4.69565ZM11.9167 7.82609H9.20833V5.73913H11.9167V7.82609ZM4.875 5.73913H8.125V7.82609H4.875V5.73913ZM8.125 4.69565H4.875V2.6087H8.125V4.69565ZM1.08333 5.73913H3.79167V7.82609H1.04464L1.08333 5.73913ZM1.08333 2.6087H3.79167V4.68851H1.04464L1.08333 2.6087ZM1.08333 8.86957H3.79167V10.9565H1.08333V8.86957ZM4.875 8.86957H8.125V10.9565H4.875V8.86957ZM11.9167 10.9565H9.20833V8.86957H11.9167V10.9565Z"}),Object(H.jsx)("path",{d:"M3.875 1V11H1V1H3.875Z",strokeWidth:"2"}),Object(H.jsx)("path",{d:"M5.14587 0V12",stroke:"white"})]})},qe=function(){return Object(H.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 28 28",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:Object(H.jsx)("path",{d:"M8.5 1H2C1.44772 1 1 1.44772 1 2V26C1 26.5523 1.44772 27 2 27H7M8.5 1V6.5C8.5 7.05228 8.94772 7.5 9.5 7.5H18.5C19.0523 7.5 19.5 7.05228 19.5 6.5V1M8.5 1H19.5M19.5 1H20.5622C20.8413 1 21.1077 1.11664 21.297 1.32172L26.7348 7.2127C26.9053 7.39743 27 7.63959 27 7.89098V26C27 26.5523 26.5523 27 26 27H21M7 27V19C7 18.4477 7.44772 18 8 18H14H20C20.5523 18 21 18.4477 21 19V27M7 27H21",strokeWidth:"3"})})},Ze=function(){return Object(H.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-route",width:"1em",height:"1em",viewBox:"0 0 24 24",strokeWidth:"2",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(H.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(H.jsx)("circle",{cx:"6",cy:"19",r:"2"}),Object(H.jsx)("circle",{cx:"18",cy:"5",r:"2"}),Object(H.jsx)("path",{d:"M12 19h4.5a3.5 3.5 0 0 0 0 -7h-8a3.5 3.5 0 0 1 0 -7h3.5"})]})},Xe=function(){return Object(H.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-logout",width:"16",height:"16",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(H.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(H.jsx)("path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"}),Object(H.jsx)("path",{d:"M7 12h14l-3 -3m0 6l3 -3"})]})},Ye=function(){return Object(H.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 23 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(H.jsx)("path",{d:"M22.7287 11.337L12.47 0.99448L11.4835 0L3.78949 7.7569L0.271265 11.3039C-0.0904216 11.6685 -0.0904216 12.2652 0.271265 12.663L7.30772 19.7569L11.4835 24L19.1776 16.2431L19.3091 16.1105L22.7287 12.663C23.0904 12.2983 23.0904 11.7017 22.7287 11.337ZM11.4835 15.547L7.96535 12L11.4835 8.453L15.0018 12L11.4835 15.547Z",fill:"#2684FF"}),Object(H.jsx)("path",{d:"M11.4837 8.4531C9.18206 6.1327 9.18206 2.35365 11.4508 0.0332031L3.75671 7.7901L7.93256 12.0001L11.4837 8.4531Z",fill:"url(#paint0_linear)"}),Object(H.jsx)("path",{d:"M15.0019 12L11.4836 15.547C13.7852 17.8674 13.7852 21.6464 11.4836 24L19.2105 16.2099L15.0019 12Z",fill:"url(#paint1_linear)"}),Object(H.jsxs)("defs",{children:[Object(H.jsxs)("linearGradient",{id:"paint0_linear",x1:"10.8561",y1:"4.85952",x2:"5.90266",y2:"9.77282",gradientUnits:"userSpaceOnUse",children:[Object(H.jsx)("stop",{offset:"0.176",stopColor:"#0052CC"}),Object(H.jsx)("stop",{offset:"1",stopColor:"#2684FF"})]}),Object(H.jsxs)("linearGradient",{id:"paint1_linear",x1:"12.1565",y1:"19.0892",x2:"17.1001",y2:"14.1858",gradientUnits:"userSpaceOnUse",children:[Object(H.jsx)("stop",{offset:"0.176",stopColor:"#0052CC"}),Object(H.jsx)("stop",{offset:"1",stopColor:"#2684FF"})]})]})]})},Je=function(e){return Object(H.jsx)(Ke.a,Object(l.a)({component:Be,className:"anticon-sql"},e))},_e=function(e){return Object(H.jsx)(Ke.a,Object(l.a)({component:Qe,className:"anticon-table"},e))},$e=function(e){return Object(H.jsx)(Ke.a,Object(l.a)({component:We,className:"anticon-column"},e))},et=function(e){return Object(H.jsx)(Ke.a,Object(l.a)({component:qe,className:"anticon-save"},e))},tt=function(e){return Object(H.jsx)(Ke.a,Object(l.a)({component:Ze,className:"anticon-flow"},e))},nt=function(e){return Object(H.jsx)(Ke.a,Object(l.a)({component:Xe,className:"anticon-logout"},e))},at=function(e){return Object(H.jsx)(Ke.a,Object(l.a)({component:Ye,className:"anticon-jira"},e))},ct=function(e){return{hierarchyField:e&&e.length>0?e.split("/").map((function(e){return{name:e}})):[]}},it=function(e){return Array.isArray(e.hierarchyField)?e.hierarchyField.map((function(e){return e.name})).join("/"):""},rt=function(e){return{sharedForRoles:e&&e.length>0?JSON.parse(e).map((function(e){return{name:e}})):[]}},st=function(e){return Array.isArray(e.sharedForRoles)?JSON.stringify(e.sharedForRoles.map((function(e){return e.name}))):null},ot=function(e){return{sharedForUsers:e&&e.length>0?JSON.parse(e).map((function(e){return{name:e}})):[]}},lt=function(e){return Array.isArray(e.sharedForUsers)?JSON.stringify(e.sharedForUsers.map((function(e){return e.name}))):null},dt=function(e){e.id;var t=e.span,n=(e.type,e.buttonLabel,e.modalTitle);e.name,e.stringToTable,e.tableToString;return Object(H.jsx)(vt,{span:t,label:n,children:Object(H.jsx)(jt,Object(l.a)(Object(l.a)({},e),{},{buttonSize:"middle"}))})},jt=function(e){var t=e.id,n=e.type,a=e.buttonLabel,c=e.buttonSize,i=void 0===c?"small":c,r=e.modalTitle,s=e.name,o=e.stringToTable,l=e.tableToString,d=function(e){return function(t){t(o(e))}};return Object(H.jsx)(C.c,{itemProps:{name:s},subscribe:[{name:"".concat(t,".").concat(s),path:"rtd.".concat(n,".config.").concat(t,".modals.").concat(s),onChange:function(e){var t=e.value;(0,e.setSubscribeProps)({value:l(t)})}}],render:function(e){var c=e.value;return Object(H.jsx)(C.i,{buttonProps:{label:a({length:o(c)[s].length}),type:"default",size:i,style:{width:"100%",backgroundColor:"#dbe7f7"}},toolTipProps:{title:r},dispatch:{path:"".concat(n,".config.").concat(t,".modals.").concat(s)},modalConfig:{type:"save",title:r,width:600,bodyStyle:{height:500},form:{name:"TableList",noPadding:!0,loadInitData:d(c)}},children:Object(H.jsx)(wt,{name:s,columns:[{title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",dataKey:"name"}]})})}})},ut=n(99),bt=n.n(ut),Ot=n(308),ht=n(47),ft=n(1001),pt=function(e){return Object(H.jsx)(Ue,Object(l.a)(Object(l.a)({},e),{},{Component:C.m}))},xt=function(e){var t=e.defaultFilter,n=e.requestLoadRows,a=Object(d.useState)({}),c=Object(r.a)(a,2),s=c[0],o=c[1];Object(d.useEffect)((function(){n({data:t}).then((function(e){o(e.data)})).catch((function(e){return console.log(e)}))}),[]);return Object(H.jsx)(C.h,{className:"preview-sql",children:Object(H.jsxs)(u.a,{split:"vertical",minSize:"30%",maxSize:"70%",defaultSize:"30%",children:[Object(H.jsx)(i.b,{direction:"vertical",size:0,className:"preview-sql-params",style:{width:"100%",overflow:"auto"},children:function(){var e=[];if(!s.params)return null;var t=JSON.parse(s.params);for(var n in t)e.push(Object(H.jsxs)(g.a,{className:"preview-sql-param-row",children:[Object(H.jsx)(w.a,{span:8,className:"preview-sql-param-key",children:n}),Object(H.jsx)(w.a,{span:16,className:"preview-sql-param-value",children:Array.isArray(t[n])?t[n].join(", "):t[n]})]}));return e}()}),Object(H.jsx)("div",{style:{display:"flex",width:"100%"},children:Object(H.jsx)(C.o,{value:s.sql})})]})})},mt=function(e){return Object(H.jsx)(Ue,Object(l.a)(Object(l.a)({},e),{},{type:"SQL",Component:xt}))},gt=function(e){var t=e.span,n=e.name,a=e.label;return Object(H.jsx)(vt,{span:t,label:a,children:Object(H.jsx)(C.g,{itemProps:{name:n,normalize:function(e){return ce(e)}}})})},vt=function(e){var t=e.children,n=e.span,a=e.label;return Object(H.jsx)(w.a,{span:n,children:Object(H.jsxs)(i.b,{direction:"vertical",size:0,style:{width:"100%"},children:[Object(H.jsx)("span",{children:a}),t]})})},yt=function(e){var t=e.span,n=e.children;return Object(H.jsx)(w.a,{span:t,style:{justifyContent:"flex-end",display:"flex",flexDirection:"column"},children:Array.isArray(n)?n.map((function(e,t){return Object(H.jsx)("div",{children:e},t)})):Object(H.jsx)("div",{children:n})})},wt=function(e){var t=e.name,n=e.columns;return Object(H.jsx)(C.c,{itemProps:{name:t},render:function(e){var t=e.onChange,a=e.value;return Object(H.jsx)(C.h,{style:{width:"100%"},children:Object(H.jsx)(me,{columns:n,data:a,onChange:t})})}})},Ct=function(e){var t=Object(d.useState)(!1),n=Object(r.a)(t,2),a=n[0],c=n[1],i=Object(d.useState)(e.data),s=Object(r.a)(i,2),o=s[0],j=s[1],u=Object(d.useState)([]),b=Object(r.a)(u,2),O=b[0],h=b[1];Object(d.useEffect)((function(){a||De(o.url.configuration.get)().then((function(e){j(Object(l.a)(Object(l.a)({},o),e.data)),c(!0)})).catch(ze)}),[a]);var w=function(e){e.stopPropagation(),c(!1)},k=function(){return Object(H.jsx)(v.a,{size:"small",icon:Object(H.jsx)(Ie.a,{}),onClick:w,children:"Reload config"})};return a?Object(H.jsx)(C.e,{layout:"vertical",name:"query-config-from",className:"query-config",loadInitData:function(e){return e(o)},onValuesChange:function(e,t){if(o.dataBase.readOnly)y.a.error({message:"\u0411\u0430\u0437\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u0447\u0442\u0435\u043d\u0438\u0435"});else{var n=Object(l.a)(Object(l.a)({},o),t);Re(o.url.configuration.set,n).then((function(e){y.a.success({message:"Save [".concat(o.configName,"]")})})).catch((function(e){return ze(e)}))}},onFinish:function(e){return console.log("query-config-from",e)},dispatch:{path:"query.config.".concat(o.id,".form")},children:Object(H.jsxs)(C.f,{noPadding:!0,children:[Object(H.jsx)(m.a,{activeKey:O,onChange:function(e){h(e)},bordered:!1,ghost:!0,children:Object(H.jsxs)(m.a.Panel,{header:"\u041e\u0431\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",extra:Object(H.jsx)(k,{}),className:"query-config-header",children:[Object(H.jsxs)(g.a,{gutter:8,children:[Object(H.jsx)(gt,{span:6,label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",name:"description"}),Object(H.jsx)(gt,{span:6,label:"\u0418\u043c\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b",name:"tableName"}),Object(H.jsx)(dt,{id:o.id,span:3,type:"query",buttonLabel:function(e){var t=e.length;return Object(H.jsxs)("span",{children:["Fields: ",t]})},modalTitle:"\u0421\u043a\u0440\u044b\u0442\u044b\u0435 \u043f\u043e\u043b\u044f",name:"hierarchyField",stringToTable:ct,tableToString:it}),Object(H.jsx)(dt,{id:o.id,span:3,type:"query",buttonLabel:function(e){var t=e.length;return Object(H.jsxs)("span",{children:["Users: ",t]})},modalTitle:"\u0414\u043e\u0441\u0442\u0443\u043f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c",name:"sharedForUsers",stringToTable:ot,tableToString:lt}),Object(H.jsx)(dt,{id:o.id,span:3,type:"query",buttonLabel:function(e){var t=e.length;return Object(H.jsxs)("span",{children:["Roles: ",t]})},modalTitle:"\u0414\u043e\u0441\u0442\u0443\u043f \u0440\u043e\u043b\u044f\u043c",name:"sharedForRoles",stringToTable:rt,tableToString:st})]}),Object(H.jsxs)(g.a,{gutter:8,style:{marginTop:8},children:[Object(H.jsx)(gt,{span:6,label:"\u041f\u043e\u043b\u0435 \u0441 \u0438\u043a\u043e\u043d\u043a\u043e\u0439 \u0438\u0435\u0440\u0430\u0440\u0445\u0438\u0438",name:"hierarchyView"}),Object(H.jsx)(gt,{span:6,label:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",name:"userSettings"}),Object(H.jsxs)(yt,{span:6,children:[Object(H.jsx)(C.b,{itemProps:{name:"hierarchical",valuePropName:"checked"},children:"\u0418\u0435\u0440\u0430\u0440\u0445\u0438\u0447\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430"}),Object(H.jsx)(C.b,{itemProps:{name:"hierarchyLazyLoad",valuePropName:"checked"},children:"\u041b\u0435\u043d\u0438\u0432\u0430\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u044b"})]}),Object(H.jsx)(yt,{span:6,children:Object(H.jsx)(C.b,{itemProps:{name:"loggingQueries",valuePropName:"checked"},children:"\u041b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432"})})]})]},"qwerty")}),Object(H.jsxs)(x.a,{className:"app-page-tabs app-page-tabs-horizontal",style:{marginTop:8},children:[Object(H.jsx)(x.a.TabPane,{tab:Object(H.jsxs)("span",{children:[Object(H.jsx)($e,{style:{margin:"0 4px 0 0"}}),"\u041f\u043e\u043b\u044f"]}),children:Object(H.jsx)(wt,{name:"fields",columns:ke})},"1"),Object(H.jsx)(x.a.TabPane,{tab:Object(H.jsxs)("span",{children:[Object(H.jsx)(Je,{style:{margin:"0 4px 0 0"}}),"Custom SQL"]}),children:Object(H.jsx)(C.o,{itemProps:{name:"customSql",normalize:function(e){return e}}})},"2"),Object(H.jsx)(x.a.TabPane,{tab:Object(H.jsxs)("span",{children:[Object(H.jsx)(Se.a,{style:{margin:"0 4px 0 0"}}),"Preview table"]}),children:Object(H.jsx)(pt,{data:o})},"4"),Object(H.jsx)(x.a.TabPane,{tab:Object(H.jsxs)("span",{children:[Object(H.jsx)(Se.a,{style:{margin:"0 4px 0 0"}}),"Preview SQL"]}),children:Object(H.jsx)(mt,{data:o})},"3"),Object(H.jsx)(x.a.TabPane,{tab:Object(H.jsxs)("span",{children:[Object(H.jsx)(Ne.a,{style:{margin:"0 4px 0 0"}}),"Test Request"]}),children:Object(H.jsx)(p.a,{title:"\u0420\u0430\u0437\u0434\u0435\u043b [Test Request] \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435",style:{margin:"auto"}})},"5"),Object(H.jsx)(x.a.TabPane,{tab:Object(H.jsxs)("span",{children:[Object(H.jsx)(Le.a,{style:{margin:"0 4px 0 0"}}),"Auto tests"]}),children:Object(H.jsx)(p.a,{title:"\u0420\u0430\u0437\u0434\u0435\u043b [Auto tests] \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435",style:{margin:"auto"}})},"6")]})]})}):Object(H.jsx)(f.a,{})},kt=(n(324),n(78)),It=n(79),St=n.n(It),Nt=n(1011),Lt=n(110),Pt=n(1012),At="save-form-logic",Ft="".concat(At,"-tree"),Et=function(e){return Object(H.jsx)("div",{className:e.className,style:e.style,onClick:function(){e.onClick(e.dataPath,e.dataType)},children:e.children})},Rt=function(e){var t=Object(d.useState)(void 0),n=Object(r.a)(t,2),a=n[0],c=n[1],i=Object(d.useState)(void 0),o=Object(r.a)(i,2),u=o[0],b=o[1],O=Object(d.useState)({}),h=Object(r.a)(O,2),f=h[0],p=h[1],x=Object(d.useState)("params"),m=Object(r.a)(x,2),y=m[0],C=m[1],S=Object(d.useState)([]),L=Object(r.a)(S,2),A=L[0],F=L[1],E=Object(d.useState)([]),R=Object(r.a)(E,2),D=R[0],T=R[1],z=e.onChange,V=e.value,M=e.dataBase;Object(d.useEffect)((function(){c(V)}),[V]);var G=function(e,t){console.log("onClickLogicParams => ",e);var n=St.a.get(a,e);"params"===t&&(Array.isArray(e)&&0===e.length&&(n.fieldType=void 0!==n.fieldType?n.fieldType:"root",n.primaryKey=void 0!==n.primaryKey?n.primaryKey:"id"),n.excludePrimaryKey=void 0===n.excludePrimaryKey||n.excludePrimaryKey,n.autoGenerateCode=void 0!==n.autoGenerateCode&&n.autoGenerateCode),p(n),C(t),b(e),q(St.a.get(a,[].concat(Object(P.a)(e.slice(0,e.length-2)),["tableName"])))},U=function(e){var t=Object(l.a)({},a);St.a.push(t,[].concat(Object(P.a)(e),["children"]),{}),z(t)},K=function(e){var t=Object(l.a)({},a);St.a.push(t,[].concat(Object(P.a)(e),["fields"]),{}),z(t)},B=function(e){var t=Object(l.a)({},a);St.a.del(t,e),z(t)},Q=function(e,t){var n=Object(l.a)(Object(l.a)({},f),{},Object(s.a)({},e,t));p(n),"tableName"===e&&q(t);var c={};u&&u.length>0?(c=Object(l.a)({},a),St.a.set(c,u,n)):c=Object(l.a)(Object(l.a)({},c),n),console.log("onChangeInput newLogic => ",c),z(c)},W=function(e,t){return!!e&&e.join(".")===t.join(".")},q=function(e){Ee("/".concat(M.name,"/configurations/save/fields/").concat(e)).then((function(e){T(e.data)})).catch((function(e){Object(ht.b)(e,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445")}))},Z=Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(g.a,{justify:"center",align:"middle",gutter:[0,8],children:[Object(H.jsx)(w.a,{span:8,children:Object(H.jsx)("span",{children:"Field type: "})}),Object(H.jsx)(w.a,{span:16,children:Object(H.jsxs)(k.a,{value:f&&f.fieldType,style:{width:"100%"},onChange:function(e){return Q("fieldType",e)},children:[Object(H.jsx)(k.a.Option,{value:"root",children:"root"}),Object(H.jsx)(k.a.Option,{value:"array",children:"array"}),Object(H.jsx)(k.a.Option,{value:"object",children:"object"})]})})]}),Object(H.jsxs)(g.a,{justify:"center",align:"middle",gutter:[0,8],children:[Object(H.jsx)(w.a,{span:8,children:Object(H.jsx)("span",{children:"Field name: "})}),Object(H.jsx)(w.a,{span:16,children:Object(H.jsx)(N.a,{value:f&&f.fieldName,onChange:function(e){return Q("fieldName",e.target.value)}})})]}),Object(H.jsxs)(g.a,{justify:"center",align:"middle",gutter:[0,8],children:[Object(H.jsx)(w.a,{span:8,children:Object(H.jsx)("span",{children:"Table name: "})}),Object(H.jsx)(w.a,{span:16,children:Object(H.jsx)(k.a,{showSearch:!0,onDropdownVisibleChange:function(e){e?Ee("/".concat(M.name,"/configurations/save/tables")).then((function(e){F(e.data)})).catch((function(e){Object(ht.b)(e,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445")})):F([])},value:f&&f.tableName,style:{width:"100%"},onChange:function(e){return Q("tableName",e)},optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:A.map((function(e,t){return Object(H.jsx)(k.a.Option,{value:e,children:e},t)}))})})]}),Object(H.jsxs)(g.a,{justify:"center",align:"middle",gutter:[0,8],children:[Object(H.jsx)(w.a,{span:8,children:Object(H.jsx)("span",{children:"Primary key: "})}),Object(H.jsx)(w.a,{span:16,children:Object(H.jsx)(k.a,{value:f&&f.primaryKey,style:{width:"100%"},onChange:function(e){return Q("primaryKey",e)},children:D.map((function(e,t){return Object(H.jsxs)(k.a.Option,{value:e.columnName,children:[e.columnName," [",e.dataType,"]"]},t)}))})})]}),Object(H.jsxs)(g.a,{justify:"center",align:"middle",gutter:[0,8],children:[Object(H.jsx)(w.a,{span:8,children:Object(H.jsx)("span",{children:"Exclude primary key: "})}),Object(H.jsx)(w.a,{span:16,children:Object(H.jsx)(I.a,{defaultChecked:!1,checked:f&&f.excludePrimaryKey,onChange:function(e){return Q("excludePrimaryKey",e.target.checked)}})})]}),Object(H.jsxs)(g.a,{justify:"center",align:"middle",gutter:[0,8],children:[Object(H.jsx)(w.a,{span:8,children:Object(H.jsx)("span",{children:"Auto generate code: "})}),Object(H.jsx)(w.a,{span:16,children:Object(H.jsx)(I.a,{defaultChecked:!1,checked:f&&f.autoGenerateCode,onChange:function(e){return Q("autoGenerateCode",e.target.checked)}})})]})]}),X=Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(g.a,{justify:"center",align:"middle",gutter:[0,8],children:[Object(H.jsx)(w.a,{span:8,children:Object(H.jsx)("span",{children:"name: "})}),Object(H.jsx)(w.a,{span:16,children:Object(H.jsx)(k.a,{value:f&&f.name,style:{width:"100%"},onChange:function(e){return Q("name",e)},children:D.map((function(e,t){return Object(H.jsxs)(k.a.Option,{value:e.columnName,children:[e.columnName," [",e.dataType,"]"]},t)}))})})]}),Object(H.jsxs)(g.a,{justify:"center",align:"middle",gutter:[0,8],children:[Object(H.jsx)(w.a,{span:8,children:Object(H.jsx)("span",{children:"type: "})}),Object(H.jsx)(w.a,{span:16,children:Object(H.jsxs)(k.a,{listHeight:300,value:f&&f.type,style:{width:"100%"},onChange:function(e){return Q("type",e)},children:[Object(H.jsx)(k.a.Option,{value:"uuid",children:"uuid"}),Object(H.jsx)(k.a.Option,{value:"text",children:"text"}),Object(H.jsx)(k.a.Option,{value:"json",children:"json"}),Object(H.jsx)(k.a.Option,{value:"int",children:"int"}),Object(H.jsx)(k.a.Option,{value:"timestamp",children:"timestamp"}),Object(H.jsx)(k.a.Option,{value:"date",children:"date"}),Object(H.jsx)(k.a.Option,{value:"time",children:"time"}),Object(H.jsx)(k.a.Option,{value:"bool",children:"bool"}),Object(H.jsx)(k.a.Option,{value:"double",children:"double"}),Object(H.jsx)(k.a.Option,{value:"parentResult",children:"parentResult"}),Object(H.jsx)(k.a.Option,{value:"password",children:"password"})]})})]}),Object(H.jsxs)(g.a,{justify:"center",align:"middle",gutter:[0,8],children:[Object(H.jsx)(w.a,{span:8,children:Object(H.jsx)("span",{children:"validators: "})}),Object(H.jsx)(w.a,{span:16,children:Object(H.jsx)(N.a,{value:f&&f.validators,onChange:function(e){return Q("validators",e.target.value)}})})]})]});return Object(H.jsxs)("div",{className:At,children:[a&&function e(t,n){return Object(H.jsxs)("div",{className:"".concat(Ft).concat(n.length>0?"-child":""),children:[Object(H.jsxs)("div",{className:"".concat(Ft,"-params ").concat(W(u,n)?"active":""),children:[Object(H.jsx)(Nt.a,{}),Object(H.jsxs)(Et,{onClick:G,style:{flex:"1"},dataPath:n,dataType:"params",children:[Object(H.jsxs)("div",{className:"".concat(Ft,"-field"),children:["[",t.fieldName,"] type of [",t.fieldType,"]"]}),Object(H.jsx)("div",{className:"".concat(Ft,"-field"),children:t.tableName})]}),n.length>0?Object(H.jsx)(v.a,{size:"small",shape:"circle",icon:Object(H.jsx)(Lt.a,{}),onClick:function(){return B(n)}}):null]}),Object(H.jsxs)("div",{className:"".concat(Ft,"-fields"),children:[Object(H.jsxs)("div",{className:"".concat(Ft,"-fields-header"),children:[Object(H.jsx)(_e,{}),Object(H.jsx)("div",{children:"Fields"}),Object(H.jsx)(v.a,{size:"small",shape:"round",onClick:function(){return K(n)},children:"Add field"})]}),t.fields&&t.fields.map((function(e,t){var a=[].concat(Object(P.a)(n),["fields",t]);return Object(H.jsxs)(Et,{className:"".concat(Ft,"-fields-params ").concat(W(u,a)?"active":""),onClick:G,dataType:"fields",dataPath:a,children:[Object(H.jsxs)("div",{className:"".concat(Ft,"-fields-params-data"),children:[Object(H.jsx)($e,{}),Object(H.jsxs)("div",{children:["[",e.name,"] type of [",e.type,"]"]})]}),Object(H.jsx)(v.a,{size:"small",shape:"circle",icon:Object(H.jsx)(Lt.a,{}),onClick:function(){return B(a)}})]},t)}))]}),Object(H.jsxs)("div",{className:"".concat(Ft,"-children"),children:[Object(H.jsxs)("div",{className:"".concat(Ft,"-children-header"),children:[Object(H.jsx)(Pt.a,{}),Object(H.jsx)("div",{children:"Children"}),Object(H.jsx)(v.a,{size:"small",shape:"round",onClick:function(){return U(n)},children:"Add child"})]}),t.children&&t.children.map((function(t,a){return Object(H.jsx)(j.a.Fragment,{children:e(t,[].concat(Object(P.a)(n),["children",a]))},a)}))]})]})}(a,[]),Object(H.jsx)("div",{className:"".concat(At,"-sub-form"),children:u&&("params"===y?Z:X)})]})},Dt=function(e){var t=e.data,n=Object(d.useState)(!1),a=Object(r.a)(n,2),c=a[0],s=a[1],o=Object(d.useState)(null),j=Object(r.a)(o,2),u=j[0],b=j[1];Object(d.useEffect)((function(){c||De(t.url.configuration.get)().then((function(e){var n=Object(l.a)(Object(l.a)({},t),e.data);n.logic=JSON.parse(n.logic),b(n),s(!0)})).catch(ze)}),[c]);return c?Object(H.jsxs)(kt.a,{style:{flex:1,height:"100%",display:"flex",flexDirection:"column",width:"100%"},wrapperCol:{span:24},initialValues:Object(l.a)({},u),onFinish:function(e){console.log("Success:",e),function(e){if(t.dataBase.readOnly)y.a.error({message:"\u0411\u0430\u0437\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u0447\u0442\u0435\u043d\u0438\u0435"});else{var n=Object(l.a)(Object(l.a)(Object(l.a)({},u),e),{},{logic:JSON.stringify(e.logic)});Re(t.url.configuration.set,n).then((function(e){y.a.success({message:"Save [".concat(t.configName,"]")})})).catch((function(e){return ze(e)}))}}(e)},onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(H.jsx)("div",{className:"".concat("save-form","-fields-panel"),children:Object(H.jsxs)(g.a,{gutter:8,children:[Object(H.jsx)(w.a,{span:9,children:Object(H.jsxs)(i.b,{direction:"vertical",size:4,style:{width:"100%"},children:[Object(H.jsx)("span",{children:"Description"}),Object(H.jsx)(kt.a.Item,{name:"description",className:"mb-0",children:Object(H.jsx)(N.a,{})})]})}),Object(H.jsx)(w.a,{span:5,children:Object(H.jsx)(dt,{id:t.id,span:24,type:"save",buttonLabel:function(e){var t=e.length;return Object(H.jsxs)("span",{children:["\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439: ",t]})},modalTitle:"\u0414\u043e\u0441\u0442\u0443\u043f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c",name:"sharedForUsers",stringToTable:ot,tableToString:lt})}),Object(H.jsx)(w.a,{span:5,children:Object(H.jsx)(dt,{id:t.id,span:24,type:"save",buttonLabel:function(e){var t=e.length;return Object(H.jsxs)("span",{children:["\u0420\u043e\u043b\u0435\u0439: ",t]})},modalTitle:"\u0414\u043e\u0441\u0442\u0443\u043f \u0440\u043e\u043b\u044f\u043c",name:"sharedForRoles",stringToTable:rt,tableToString:st})}),Object(H.jsx)(w.a,{span:5,children:Object(H.jsxs)(i.b,{style:{display:"flex",alignItems:"end",height:"100%",paddingBottom:"4px"},children:[Object(H.jsx)(v.a,{icon:Object(H.jsx)(Ie.a,{}),onClick:function(e){s(!1)},children:"Reload config"}),Object(H.jsx)(v.a,{htmlType:"submit",style:{backgroundColor:"#8dd28d",width:"100%"},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})})]})}),Object(H.jsx)(kt.a.Item,{label:"Logic",name:"logic",noStyle:!0,children:Object(H.jsx)(Rt,{dataBase:t.dataBase})})]}):Object(H.jsx)(f.a,{})},Tt=(n(272),n(172)),zt=n(112),Vt=n.n(zt),Mt=n(59),Ht=n(60),Gt=n(117),Ut=n(62),Kt=n(61),Bt=function(e){var t=e.engine,n=e.node,a=n.getInPortsRender,c=n.getOutPortsRender;return Object(H.jsxs)(d.Fragment,{children:[Object(H.jsx)("div",{className:"node-ports-in",children:Object(H.jsx)(a,{engine:t,node:n})}),Object(H.jsx)("div",{className:"node-ports-out",children:Object(H.jsx)(c,{engine:t,node:n})})]})},Qt=function(e){var t=e.engine,n=e.node;return Object(H.jsxs)("div",{className:["node-wrapper","node-branch",n.isSelected()?"node-selected":void 0].join(" "),children:[Object(H.jsx)("div",{className:"node-header",children:n.getOptions().name}),Object(H.jsx)("div",{className:"node-body",children:Object(H.jsx)(Bt,{engine:t,node:n})})]})},Wt=function(e){Object(Ut.a)(n,e);var t=Object(Kt.a)(n);function n(e){var a;return Object(Ht.a)(this,n),(a=t.call(this,e.type)).model=void 0,a.model=e.model,a}return Object(Gt.a)(n,[{key:"generateReactWidget",value:function(e){return Object(H.jsx)(Qt,{engine:this.engine,node:e.model})}},{key:"generateModel",value:function(e){return new this.model(e.initialConfig)}}]),n}(Mt.AbstractReactFactory),qt=n(104),Zt=n(134),Xt=n(97),Yt=function(e){Object(Ut.a)(n,e);var t=Object(Kt.a)(n);function n(e){var a;return Object(Ht.a)(this,n),(a=t.call(this,e)).variables=void 0,console.log("Recreate model"),a.variables=(null===e||void 0===e?void 0:e.variables)||[],a}return Object(Gt.a)(n,[{key:"deserialize",value:function(e){Object(Zt.a)(Object(Xt.a)(n.prototype),"deserialize",this).call(this,e),console.log("Deserialize FlowDiagramModel",e.data.variables),this.variables=e.data.variables}},{key:"serialize",value:function(){return Object(l.a)(Object(l.a)({},Object(Zt.a)(Object(Xt.a)(n.prototype),"serialize",this).call(this)),{},{variables:this.variables})}},{key:"getOptions",value:function(){return this.options}},{key:"getVariables",value:function(){return this.variables}},{key:"getVariable",value:function(e){return this.variables.find((function(t){return t.id===e}))}},{key:"addVariable",value:function(e){this.variables.push(e)}},{key:"updateVariable",value:function(e){var t=this.variables.findIndex((function(t){return t.id===e.id}));-1!==t&&(this.variables[t]=e)}},{key:"removeVariableByName",value:function(e){this.variables=this.variables.filter((function(t){return t.name!==e}))}},{key:"removeVariableById",value:function(e){this.variables=this.variables.filter((function(t){return t.id!==e}))}}]),n}(zt.DiagramModel),Jt=function(e){var t=e.entity;if(t.getOptions().maximumLinks){var n=Object(ht.c)(t.links);n>t.getOptions().maximumLinks&&Object.values(t.links)[n-1].remove()}},_t=function(e){Object(Ut.a)(n,e);var t=Object(Kt.a)(n);function n(e){var a,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(Ht.a)(this,n),(a=t.call(this,e)).getInPortsRender=function(e){e.engine,e.node;return Object(H.jsx)(d.Fragment,{})},a.getOutPortsRender=function(e){e.engine,e.node;return Object(H.jsx)(d.Fragment,{})},c.forEach((function(e){return a.addPort(e)})),Object.values(a.getPorts()).forEach((function(e){return e.registerListener({eventDidFire:Jt})})),a}return Object(Gt.a)(n,[{key:"deserialize",value:function(e){Object(Zt.a)(Object(Xt.a)(n.prototype),"deserialize",this).call(this,e)}},{key:"getPort",value:function(e){return this.ports[e]}}]),n}(zt.DefaultNodeModel),$t=function(e){Object(Ut.a)(n,e);var t=Object(Kt.a)(n);function n(e){var a;return Object(Ht.a)(this,n),(a=t.call(this,e)).value=void 0,a}return Object(Gt.a)(n,[{key:"deserialize",value:function(e){Object(Zt.a)(Object(Xt.a)(n.prototype),"deserialize",this).call(this,e),this.value=e.data.value,this.options.hiddenLabel=e.data.hiddenLabel,this.options.maximumLinks=e.data.maximumLinks}},{key:"serialize",value:function(){return Object(l.a)(Object(l.a)({},Object(Zt.a)(Object(Xt.a)(n.prototype),"serialize",this).call(this)),{},{value:this.value,hiddenLabel:this.options.hiddenLabel,maximumLinks:this.options.maximumLinks})}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(e){this.value=e}},{key:"getOptions",value:function(){return this.options}},{key:"canLinkToPort",value:function(e){return!!(e instanceof zt.DefaultPortModel&&(console.log("canLinkToPort",this.options.in,e.getOptions().in,this.options.type,e.getOptions().type),!this.options.in&&e.getOptions().in&&this.options.type===e.getOptions().type))}},{key:"createLinkModel",value:function(e){if(console.log("createLinkModel",this.options),this.options.maximumLinks){var t=Object(ht.c)(this.links);if(1===this.options.maximumLinks)return Object.values(this.links).forEach((function(e){return e.remove()})),new zt.DefaultLinkModel;if(this.options.maximumLinks<=t)return Object.values(this.links)[t-1].remove(),new zt.DefaultLinkModel}return new zt.DefaultLinkModel}}]),n}(zt.DefaultPortModel),en=(n(392),n(252)),tn=function(e){var t=e.port;switch(t.getOptions().type){case"exec":return Object(H.jsx)(nn,{port:t});case"bool":case"byte":case"int":case"int64":case"float":case"name":case"string":return Object(H.jsx)(an,{port:t});case"stringList":return Object(H.jsx)(cn,{port:t});case"text":case"headers":case"json":return Object(H.jsx)(an,{port:t});case"jsonList":return Object(H.jsx)(cn,{port:t});case"object":default:return Object(H.jsx)(an,{port:t})}},nn=function(e){var t=e.port;return Object(H.jsx)("div",{className:"port-exec ".concat(Object(ht.a)(t)),children:Object(H.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:Object(H.jsx)("path",{d:"M1 15V1H9L14.5 8L9 15H1Z",strokeWidth:"2"})})})},an=function(e){var t=e.port;return Object(H.jsx)("div",{className:"port-var ".concat(t.getOptions().type," ").concat(Object(ht.a)(t)),children:Object(H.jsxs)("svg",{width:"18",height:"16",viewBox:"0 0 18 16",stroke:"currentColor",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(H.jsx)("path",{d:"M16.5 8L14.5 6.5V9.5L16.5 8Z"}),Object(H.jsx)("path",{d:"M7 13C9.76142 13 12 10.7614 12 8C12 5.23858 9.76142 3 7 3C4.23858 3 2 5.23858 2 8C2 10.7614 4.23858 13 7 13Z",strokeWidth:"2"})]})})},cn=function(e){var t=e.port;return Object(H.jsx)("div",{className:"port-var ".concat(t.getOptions().type," ").concat(Object(ht.a)(t)),children:Object(H.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",stroke:"currentColor",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Object(H.jsx)("path",{d:"M1.5 1.5H4.5V4.5H1.5V1.5ZM6.5 1.5H9.5V4.5H6.5V1.5ZM11.5 1.5H14.5V4.5H11.5V1.5ZM1.5 6.5H4.5V9.5H1.5V6.5ZM11.5 6.5H14.5V9.5H11.5V6.5ZM1.5 11.5H4.5V14.5H1.5V11.5ZM6.5 11.5H9.5V14.5H6.5V11.5ZM11.5 11.5H14.5V14.5H11.5V11.5Z",strokeLinecap:"round",strokeLinejoin:"round"}),Object(ht.c)(t.getLinks())>0?Object(H.jsx)("path",{d:"M6.5 6.5H9.5V9.5H6.5V6.5Z",strokeLinecap:"round",strokeLinejoin:"round"}):null]})})},rn=function(e){return Object(ht.c)(e.getLinks())>0},sn=function(e){var t=e.port,n=e.engine,a=e.children,c=a||(t.getOptions().hiddenLabel?null:t.getOptions().label);return Object(H.jsxs)(i.b,{className:"port-wrapper",children:[!t.getOptions().in&&c,Object(H.jsx)(zt.PortWidget,{port:t,engine:n,children:Object(H.jsx)(tn,{port:t})}),t.getOptions().in&&c]})},on=function(e){var t=e.node;return"bool"===t.variable.type?Object(H.jsx)(I.a,{defaultChecked:t.variable.value,onChange:function(e){var n=e.target.checked;return t.variable.value=n}}):"float"===t.variable.type?Object(H.jsx)(en.a,{size:"small",defaultValue:t.variable.value,onChange:function(e){return t.variable.value=e}}):Object(H.jsx)(N.a,{size:"small",defaultValue:t.variable.value,onChange:function(e){var n=e.target.value;return t.variable.value=n}})},ln=function(e){var t=e.port;return"bool"===t.getOptions().type?Object(H.jsx)(I.a,{defaultChecked:t.getValue(),onChange:function(e){var n=e.target.checked;t.setValue(n)}}):"float"===t.getOptions().type?Object(H.jsx)(en.a,{size:"small",defaultValue:t.getValue(),onChange:function(e){t.setValue(e)}}):Object(H.jsx)(N.a,{size:"small",defaultValue:t.getValue(),onChange:function(e){var n=e.target.value;t.setValue(n)}})},dn=function(e){Object(Ut.a)(n,e);var t=Object(Kt.a)(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(Ht.a)(this,n),(e=t.call(this,a,[new $t({type:"exec",in:!0,name:"InExec",hiddenLabel:!0}),new $t({type:"bool",in:!0,name:"Condition",maximumLinks:1}),new $t({type:"exec",in:!1,name:"TrueExec",label:"True",maximumLinks:1}),new $t({type:"exec",in:!1,name:"FalseExec",label:"False",maximumLinks:1})])).getInPortsRender=jn,e.getOutPortsRender=un,e}return n}(_t),jn=function(e){var t=e.engine,n=e.node;return Object(H.jsxs)(d.Fragment,{children:[Object(H.jsx)(sn,{port:n.getPort("InExec"),engine:t}),Object(H.jsx)(sn,{port:n.getPort("Condition"),engine:t})]})},un=function(e){var t=e.engine,n=e.node;return Object(H.jsxs)(d.Fragment,{children:[Object(H.jsx)(sn,{port:n.getPort("TrueExec"),engine:t}),Object(H.jsx)(sn,{port:n.getPort("FalseExec"),engine:t})]})},bn=n(1017),On=n(1018),hn=function(e){Object(Ut.a)(n,e);var t=Object(Kt.a)(n);function n(e){var a;return Object(Ht.a)(this,n),(a=t.call(this,e,[new $t({type:"headers",in:!0,name:"Headers",label:"Headers",maximumLinks:1}),new $t({type:"uuid",in:!1,name:"UserId",label:"User id [uuid]"})])).getInPortsRender=pn,a.getOutPortsRender=xn,a}return n}(_t),fn=function(e){Object(Ut.a)(n,e);var t=Object(Kt.a)(n);function n(e){var a;return Object(Ht.a)(this,n),(a=t.call(this,e,[new $t({type:"headers",in:!0,name:"Headers",label:"Headers",maximumLinks:1}),new $t({type:"stringList",in:!1,name:"UserRoles",label:"User roles [List<String>]"})])).getInPortsRender=pn,a.getOutPortsRender=mn,a}return n}(_t),pn=function(e){var t=e.engine,n=e.node;return Object(H.jsx)(sn,{port:n.getPort("Headers"),engine:t})},xn=function(e){var t=e.engine,n=e.node;return Object(H.jsx)(sn,{port:n.getPort("UserId"),engine:t})},mn=function(e){var t=e.engine,n=e.node;return Object(H.jsx)(sn,{port:n.getPort("UserRoles"),engine:t})},gn=function(e){Object(Ut.a)(n,e);var t=Object(Kt.a)(n);function n(e){var a;return Object(Ht.a)(this,n),(a=t.call(this,e,[new $t({type:"exec",in:!1,name:"OutExec",hiddenLabel:!0,maximumLinks:1}),new $t({type:"string",in:!1,name:"FlowName",label:"Flow name"}),new $t({type:"headers",in:!1,name:"Headers",label:"Headers [Map<String, String>]"}),new $t({type:"uuid",in:!1,name:"UserId",label:"User id [uuid]"}),new $t({type:"stringList",in:!1,name:"UserRoles",label:"User roles [List<String>]"}),new $t({type:"json",in:!1,name:"RequestData",label:"Request data [json]"}),new $t({type:"int",in:!1,name:"PageNum",label:"Page number [int]"}),new $t({type:"int",in:!1,name:"PageSize",label:"Page size [int]"})])).getOutPortsRender=wn,a}return n}(_t),vn=function(e){if(e){var t=e.slice(8);return t.charAt(0).toLowerCase()+t.slice(1)}return"string"},yn=function(e){Object(Ut.a)(n,e);var t=Object(Kt.a)(n);function n(e){var a;return Object(Ht.a)(this,n),(a=t.call(this,e,[new $t({type:"exec",in:!0,name:"InExec",hiddenLabel:!0,maximumLinks:1}),new $t({type:"int",in:!0,name:"HttpStatus",label:"Http status",maximumLinks:1}),new $t({type:vn(e.type),in:!0,name:"Body",label:"Body",maximumLinks:1})])).getInPortsRender=Cn,a}return n}(_t),wn=function(e){var t=e.engine,n=e.node;return Object(H.jsxs)(d.Fragment,{children:[Object(H.jsx)(sn,{port:n.getPort("OutExec"),engine:t}),Object(H.jsx)(sn,{port:n.getPort("FlowName"),engine:t}),Object(H.jsx)(sn,{port:n.getPort("Headers"),engine:t}),Object(H.jsx)(sn,{port:n.getPort("UserId"),engine:t}),Object(H.jsx)(sn,{port:n.getPort("UserRoles"),engine:t}),Object(H.jsx)(sn,{port:n.getPort("RequestData"),engine:t}),Object(H.jsx)(sn,{port:n.getPort("PageNum"),engine:t}),Object(H.jsx)(sn,{port:n.getPort("PageSize"),engine:t})]})},Cn=function(e){var t=e.engine,n=e.node;return Object(H.jsxs)(d.Fragment,{children:[Object(H.jsx)(sn,{port:n.getPort("InExec"),engine:t}),Object(H.jsx)(sn,{port:n.getPort("HttpStatus"),engine:t}),Object(H.jsx)(sn,{port:n.getPort("Body"),engine:t})]})},kn=function(e){Object(Ut.a)(n,e);var t=Object(Kt.a)(n);function n(e){var a;return Object(Ht.a)(this,n),(a=t.call(this,e,[new $t({type:"int",in:!0,name:"PageNum",label:"Page number [int]",maximumLinks:1}),new $t({type:"int",in:!0,name:"PageSize",label:"Page size [int]",maximumLinks:1}),new $t({type:"exec",in:!1,name:"OutExec",hiddenLabel:!0,maximumLinks:1}),new $t({type:"jsonList",in:!1,name:"ReturnData"})])).getInPortsRender=In,a.getOutPortsRender=Sn,a}return n}(function(e){Object(Ut.a)(n,e);var t=Object(Kt.a)(n);function n(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(Ht.a)(this,n),t.call(this,e,[new $t({type:"exec",in:!0,name:"InExec",hiddenLabel:!0}),new $t({type:"string",in:!0,name:"ConfigName",label:"Config name",maximumLinks:1}),new $t({type:"uuid",in:!0,name:"UserId",label:"User id [uuid]",maximumLinks:1}),new $t({type:"stringList",in:!0,name:"UserRoles",label:"User roles [List<String>]",maximumLinks:1}),new $t({type:"json",in:!0,name:"Data",label:"Json data",maximumLinks:1})].concat(Object(P.a)(a)))}return n}(_t)),In=function(e){var t=e.engine,n=e.node;return Object(H.jsxs)(d.Fragment,{children:[Object(H.jsx)(sn,{port:n.getPort("InExec"),engine:t}),Object(H.jsx)(sn,{port:n.getPort("ConfigName"),engine:t,children:rn(n.getPort("ConfigName"))?void 0:Object(H.jsx)(ln,{port:n.getPort("ConfigName")})}),Object(H.jsx)(sn,{port:n.getPort("UserId"),engine:t}),Object(H.jsx)(sn,{port:n.getPort("UserRoles"),engine:t}),Object(H.jsx)(sn,{port:n.getPort("Data"),engine:t}),Object(H.jsx)(sn,{port:n.getPort("PageNum"),engine:t}),Object(H.jsx)(sn,{port:n.getPort("PageSize"),engine:t})]})},Sn=function(e){var t=e.engine,n=e.node;return Object(H.jsxs)(d.Fragment,{children:[Object(H.jsx)(sn,{port:n.getPort("OutExec"),engine:t}),Object(H.jsx)(sn,{port:n.getPort("ReturnData"),engine:t})]})},Nn=function(e){Object(Ut.a)(n,e);var t=Object(Kt.a)(n);function n(e){var a;return Object(Ht.a)(this,n),(a=t.call(this,e,[new $t({type:"stringList",in:!0,name:"List",label:"List",maximumLinks:1}),new $t({type:"int",in:!1,name:"Length",label:"Length"})])).getInPortsRender=Pn,a.getOutPortsRender=An,a}return n}(_t),Ln=function(e){Object(Ut.a)(n,e);var t=Object(Kt.a)(n);function n(e){var a;return Object(Ht.a)(this,n),(a=t.call(this,e,[new $t({type:"jsonList",in:!0,name:"List",label:"List",maximumLinks:1}),new $t({type:"int",in:!1,name:"Length",label:"Length"})])).getInPortsRender=Pn,a.getOutPortsRender=An,a}return n}(_t),Pn=function(e){var t=e.engine,n=e.node;return Object(H.jsx)(sn,{port:n.getPort("List"),engine:t})},An=function(e){var t=e.engine,n=e.node;return Object(H.jsx)(sn,{port:n.getPort("Length"),engine:t})},Fn=function(e){var t=e.layers[0].models,n=e.layers[1].models,a=[];return Object.keys(n).forEach((function(e){var c=n[e],i=c.ports,r={id:c.id,type:c.type,inPorts:[],outPorts:[]};["getVariable","setVariable"].includes(c.type)&&(r.variable=c.variable),i.forEach((function(e){var n={id:e.id,in:e.in,type:e.type,name:e.name,links:[],value:e.value||void 0};e.links.forEach((function(a){e.in?n.links.push({node:t[a].source,port:t[a].sourcePort}):n.links.push({node:t[a].target,port:t[a].targetPort})})),e.in&&r.inPorts.push(n),!e.in&&r.outPorts.push(n)})),a.push(r)})),{variables:e.variables,flows:a}},En=n(1013),Rn=n(1014),Dn=n(564),Tn=n(567),zn=n(1015),Vn=n(568),Mn=function(e){var t=e.value,n=e.onFinish;return Object(H.jsx)(C.i,{toolTipProps:{title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e"},buttonProps:{type:"text",icon:Object(H.jsx)(Vn.a,{}),size:"small"},modalConfig:{type:"save",title:(t?"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435")+" \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439",onFinish:function(e){return n(e)},form:{name:"AddVariable",labelCol:{span:8},wrapperCol:{span:16},noPadding:!1,loadInitData:function(e,n){e(t)}}},children:Object(H.jsxs)(C.f,{children:[Object(H.jsx)(C.g,{itemProps:{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",name:"name",className:"mb-8"}}),Object(H.jsx)(C.j,{itemProps:{label:"\u0422\u0438\u043f",name:"type",className:"mb-0"},optionConverter:function(e){return e},options:$n.map((function(e){return{label:e,value:e}}))})]})})},Hn=["variable"],Gn=["variable"],Un=function(e){Object(Ut.a)(n,e);var t=Object(Kt.a)(n);function n(e){var a,c=e.variable,i=Object(A.a)(e,Hn);return Object(Ht.a)(this,n),(a=t.call(this,Object(l.a)({name:"Get [".concat(c.name,"]")},i),[new $t({type:c.type,in:!1,name:"GetData"})])).variable=void 0,a.getOutPortsRender=Bn,a.variable=c,a}return Object(Gt.a)(n,[{key:"serialize",value:function(){return Object(l.a)(Object(l.a)({},Object(Zt.a)(Object(Xt.a)(n.prototype),"serialize",this).call(this)),{},{variable:this.variable.id})}}]),n}(_t),Kn=function(e){Object(Ut.a)(n,e);var t=Object(Kt.a)(n);function n(e){var a,c=e.variable,i=Object(A.a)(e,Gn);return Object(Ht.a)(this,n),(a=t.call(this,Object(l.a)({name:"Set [".concat(c.name,"]")},i),[new $t({type:"exec",in:!0,name:"InExec",hiddenLabel:!0}),new $t({type:c.type,in:!0,name:"SetData",hiddenLabel:!0,maximumLinks:1}),new $t({type:"exec",in:!1,name:"OutExec",hiddenLabel:!0,maximumLinks:1})])).variable=void 0,a.getInPortsRender=Qn,a.getOutPortsRender=Wn,a.variable=c,a}return Object(Gt.a)(n,[{key:"serialize",value:function(){return Object(l.a)(Object(l.a)({},Object(Zt.a)(Object(Xt.a)(n.prototype),"serialize",this).call(this)),{},{variable:this.variable.id})}}]),n}(_t),Bn=function(e){var t=e.engine,n=e.node;return Object(H.jsx)(d.Fragment,{children:Object(H.jsx)(sn,{port:n.getPort("GetData"),engine:t})})},Qn=function(e){var t=e.engine,n=e.node;return Object(H.jsxs)(d.Fragment,{children:[Object(H.jsx)(sn,{port:n.getPort("InExec"),engine:t}),Object(H.jsx)(sn,{port:n.getPort("SetData"),engine:t,children:rn(n.getPort("SetData"))?void 0:Object(H.jsx)(on,{node:n})})]})},Wn=function(e){var t=e.engine,n=e.node;return Object(H.jsx)(d.Fragment,{children:Object(H.jsx)(sn,{port:n.getPort("OutExec"),engine:t})})},qn=function(e){var t=e.diagram,n=e.engine,a=Object(d.useState)([]),c=Object(r.a)(a,2),s=c[0],o=c[1];Object(d.useEffect)((function(){l()}),[]);var l=function(){console.log("TreeVariables updateTreeDataVars"),o(t.variables.map((function(e){return{key:e.id,title:e.name,variable:e}})))},u=function(e){return function(a){switch(a.key){case"get":e.variable&&t.addNode(new Un({variable:e.variable,type:"getVariable",position:new qt.Point(100,100)})),n.repaintCanvas();break;case"set":e.variable&&t.addNode(new Kn({variable:e.variable,type:"setVariable",position:new qt.Point(100,100)})),n.repaintCanvas()}}},b=function(e){return Object(H.jsxs)(L.a,{onClick:u(e),className:"context-menu",children:[Object(H.jsxs)(L.a.Item,{children:[Object(H.jsx)(En.a,{}),"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c GET \u0431\u043b\u043e\u043a"]},"get"),Object(H.jsxs)(L.a.Item,{children:[Object(H.jsx)(Rn.a,{}),"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c SET \u0431\u043b\u043e\u043a"]},"set"),Object(H.jsx)(L.a.Divider,{}),Object(H.jsxs)(L.a.Item,{children:[Object(H.jsx)(Dn.a,{}),"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"]},"edit"),Object(H.jsxs)(L.a.Item,{children:[Object(H.jsx)(Tn.a,{}),"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"]},"remove")]})};return Object(H.jsxs)(j.a.Fragment,{children:[Object(H.jsxs)("div",{className:"flow-editor-left-side-divide-title",children:[Object(H.jsxs)(i.b,{children:[Object(H.jsx)(zn.a,{}),Object(H.jsx)("span",{children:"\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435"})]}),Object(H.jsx)(i.b,{children:Object(H.jsx)(Mn,{value:void 0,onFinish:function(e){var n=e.type,a=e.name;t.addVariable({id:Object(ht.d)(),type:n,name:a,value:null}),l()}})})]}),Object(H.jsx)("div",{className:"flow-editor-left-side-vars",children:Object(H.jsx)(Tt.a,{blockNode:!0,defaultExpandAll:!0,showIcon:!0,selectedKeys:[],treeData:s,titleRender:function(e){return Object(H.jsx)(S.a,{overlay:b(e),trigger:["click","contextMenu"],children:Object(H.jsx)("div",{children:e.title})})}})})]})},Zn=n(1016),Xn=n(569),Yn=function(e){var t=e.data,n=Object(d.useState)(!1),a=Object(r.a)(n,2),c=a[0],s=a[1];return Object(H.jsxs)(j.a.Fragment,{children:[Object(H.jsxs)("div",{className:"flow-editor-left-side-divide-title",children:[Object(H.jsxs)(i.b,{children:[Object(H.jsx)(Zn.a,{}),Object(H.jsx)("span",{children:"\u041f\u043e\u043b\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0430"})]}),Object(H.jsx)(v.a,{type:"text",icon:c?Object(H.jsx)(ve.a,{}):Object(H.jsx)(Xn.a,{}),size:"small",onClick:function(){return s((function(e){return!e}))}})]}),Object(H.jsxs)(i.b,{direction:"vertical",className:"flow-editor-left-side-fields",style:{display:c?"flex":"none"},children:[Object(H.jsx)(C.g,{itemProps:{name:"description"},size:"small"}),Object(H.jsxs)(i.b,{children:[Object(H.jsx)(jt,{id:t.id,type:"flow",buttonLabel:function(e){var t=e.length;return Object(H.jsxs)("span",{children:["Users: ",t]})},modalTitle:"\u0414\u043e\u0441\u0442\u0443\u043f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c",name:"sharedForUsers",stringToTable:ot,tableToString:lt}),Object(H.jsx)(jt,{id:t.id,type:"flow",buttonLabel:function(e){var t=e.length;return Object(H.jsxs)("span",{children:["Roles: ",t]})},modalTitle:"\u0414\u043e\u0441\u0442\u0443\u043f \u0440\u043e\u043b\u044f\u043c",name:"sharedForRoles",stringToTable:rt,tableToString:st}),Object(H.jsx)(C.b,{itemProps:{name:"loggingQueries",valuePropName:"checked"},children:"Log flow"})]})]})]})},Jn=function(e){Object(Ut.a)(n,e);var t=Object(Kt.a)(n);function n(e){return Object(Ht.a)(this,n),t.call(this,e)}return Object(Gt.a)(n,[{key:"generateModel",value:function(e){return new $t({type:this.type,name:"unknown"})}}]),n}(Mt.AbstractModelFactory),_n=["Request","request",gn],$n=["bool","int","float","uuid","string","stringList","headers","json","jsonList","object"],ea=["exec"].concat($n),ta=function e(t){return Object.keys(t).map((function(n){var a=t[n];return Array.isArray(a)?{title:a[0],key:Object(ht.d)(),type:a[1],model:a[2]}:{title:n,key:Object(ht.d)(),icon:Object(H.jsx)(ft.a,{}),children:e(a)}}))}({Network:Object(l.a)({REQUEST:["Request","request",gn]},function(){var e={};return $n.forEach((function(t){var n="response".concat(t.charAt(0).toUpperCase()+t.slice(1));e[n.toUpperCase()]=["Response [".concat(t,"]"),n,yn]})),e}()),"Flow control":{BRANCH:["Branch","branch",dn]},Data:{GET_FLAT_DATA:["Get flat data","getFlatData",kn]},Utilities:{List:{STRING_LIST_LENGTH:["Get list string length","stringListLength",Nn],JSON_LIST_LENGTH:["Get list json length","jsonListLength",Ln]},Auth:{GET_USER_ID_FROM_HEADERS:["Get user id from headers","authGetUserId",hn],GET_USER_ROLES_FROM_HEADERS:["Get user id from headers","authGetListUserRoles",fn]}}}),na=function e(t,n){for(var a=0;a<n.length;a++)n[a].type&&n[a].model?t.getNodeFactories().registerFactory(new Wt({type:n[a].type,model:n[a].model})):n[a].children&&e(t,n[a].children)},aa=function(e){var t=e.data,n=Vt()();n.getStateMachine().getCurrentState().dragNewLink.config.allowLooseLinks=!1,na(n,ta),n.getNodeFactories().registerFactory(new Wt({type:"getVariable",model:Un})),n.getNodeFactories().registerFactory(new Wt({type:"setVariable",model:Kn})),ea.forEach((function(e){return n.getPortFactories().registerFactory(new Jn(e))}));var a=new Yt({name:"MyFistFlow"});a.deserializeModel(JSON.parse(t.uiDiagram),n),n.setModel(a);return Object(H.jsx)(C.e,{loadInitData:function(e){return e(t)},onFinish:function(e){if(t.dataBase.readOnly)y.a.error({message:"\u0411\u0430\u0437\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u0447\u0442\u0435\u043d\u0438\u0435"});else{var n=Object(l.a)(Object(l.a)({},e),{},{logic:JSON.stringify(e.logic),execDiagram:JSON.stringify(Fn(a.serialize())),uiDiagram:JSON.stringify(a.serialize())});Re(t.url.configuration.set,n).then((function(e){console.log("onClickSaveDiagram",n),y.a.success({message:"Save [".concat(t.configName,"]")})})).catch((function(e){return ze(e)}))}},children:Object(H.jsx)(C.f,{noPadding:!0,children:Object(H.jsxs)("div",{className:"flow-editor",children:[Object(H.jsxs)("div",{className:"flow-editor-left-side",children:[Object(H.jsx)(i.b,{className:"flow-editor-left-side-header",children:Object(H.jsx)(C.a,{htmlType:"submit",size:"small",icon:Object(H.jsx)(bn.a,{})})}),Object(H.jsx)(Yn,{data:t}),Object(H.jsx)(qn,{diagram:a,engine:n}),Object(H.jsx)("div",{className:"flow-editor-left-side-divide-title",children:Object(H.jsxs)(i.b,{children:[Object(H.jsx)(On.a,{}),Object(H.jsx)("span",{children:"\u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b"})]})}),Object(H.jsx)("div",{className:"flow-editor-left-side-nodes",children:Object(H.jsx)(Tt.a,{blockNode:!0,defaultExpandAll:!0,showIcon:!0,selectedKeys:[],treeData:ta,onSelect:function(e,t){var c=t.node;if(c.model){if(console.log("Create model",c),c.type===_n&&a.getNodes().find((function(e){return e.getOptions().type===_n})))return void y.a.error({message:"REQUEST_MAPPING \u0432 \u0434\u0430\u043d\u043d\u043e\u043c flow[".concat(a.getOptions().name,"] \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442")});a.addNode(new c.model({type:c.type,name:c.title,position:new qt.Point(100,100)})),n.repaintCanvas()}else console.log("Skip create model",c)}})})]}),Object(H.jsx)(Mt.CanvasWidget,{className:"flow-editor-canvas",engine:n})]})})})},ca=function(){var e=Object(d.useState)(void 0),t=Object(r.a)(e,2),n=t[0],a=t[1],c=Object(d.useState)([]),i=Object(r.a)(c,2),s=i[0],o=i[1];return Object(H.jsxs)(j.a.Fragment,{children:[Object(H.jsx)(C.c,{render:function(){return null},subscribe:[{name:"onOpenTab",path:"rtd.main.tabs.events.onOpenTab",onChange:function(e){!function(e){var t=s.find((function(t){return t.key===e.key}));t?a(t.key):(a(e.key),o([].concat(Object(P.a)(s),[Ha[e.type](e)])))}(e.value)}}]}),Object(H.jsx)(C.n,{className:"app-page-tabs app-page-tabs-horizontal",activeKey:n,size:"small",onTabClick:function(e){a(e)},children:s.map((function(e){return Object(H.jsx)(C.l,{tab:Object(H.jsxs)(j.a.Fragment,{children:[Object(H.jsx)("span",{children:e.title}),Object(H.jsx)(Lt.a,{onClick:(t=e.key,function(e){var c=n,i=s.findIndex((function(e,n){return e.key===t}))-1,r=s.filter((function(e){return e.key!==t}));r.length&&c===t&&(c=i<0?r[0].key:r[i].key),a(c),o(r),e.stopPropagation(),e.preventDefault()})})]}),children:e.content},e.key);var t}))})]})},ia=function(e){var t=e.onChange,n=e.databases;return Object(H.jsx)(k.a,{size:"small",style:{width:"100%"},bordered:!1,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0430\u0437\u0443",onChange:function(e){t(n[e])},children:n.map((function(e,t){return Object(H.jsx)(k.a.Option,{value:t,children:Object(H.jsxs)(i.b,{children:[Object(H.jsx)(h.a,{style:{color:"rgb(0, 129, 189)"}}),Object(H.jsx)("span",{children:e.name}),Object(H.jsx)("span",{children:e.readOnly?"[read only]":""})]})},t)}))})},ra=(n(393),n(106)),sa=(n(323),n(177)),oa=n(565),la=n(1020),da=n(227),ja=n(179),ua=function(e,t,n,a){var c,i,r=[],s={};for(c=0;c<e.length;c+=1)s[e[c].id]=c,e[c].children=[];for(c=0;c<e.length;c+=1)(i=e[c]).key="".concat(a.name,"/").concat(n,"/").concat(i.id),i.dataBase=a,i.url={configuration:{},data:{}},i.url.configuration.get="".concat(t,"/").concat(i.configName),i.url.configuration.set=t,i.url.data.flat="/".concat(a.name,"/data/flat/").concat(i.configName),i.url.data.hierarchical="/".concat(a.name,"/data/hierarchical/").concat(i.configName),i.url.data.sql="/".concat(a.name,"/data/sql/").concat(i.configName),i.title=i.configName,i.type=n,i.icon=i.isGroup?Object(H.jsx)(ft.a,{}):Ma[n],i.isLeaf=!i.isGroup,null===i.parentId?r.push(i):e[s[i.parentId]].children.push(i);return r},ba=function e(t,n,a,c){for(var i=0;i<t.length;i++){if(t[i][a]===n)return c(t[i],i,t);t[i].children&&e(t[i].children,n,a,c)}},Oa=function(e,t,n){return ba(e,t,"key",n)},ha=function e(t,n,a){for(var c=0;c<n.length;c++)n[c].type===a&&(n[c].position=c,Re(t,n[c]).then().catch((function(e){return ze(e)}))),n[c].children&&e(t,n[c].children,a)},fa=function(e){var t=e.node,n=e.parentNode,a=e.nodeNormalize,c=e.title,i=e.icon,r=e.request,s=e.onOk,o=e.onCancel,d=t.configName;sa.a.confirm({title:c,icon:i,content:Object(H.jsx)(N.a,{defaultValue:t.configName,onChange:function(e){return d=e.target.value}}),okText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",onOk:function(){if(console.log(n),n.dataBase.readOnly)y.a.error({message:"\u0411\u0430\u0437\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u0447\u0442\u0435\u043d\u0438\u0435"});else{var e=a(Object(l.a)(Object(l.a)({},t),{},{configName:d}));r(e).then((function(t){y.a.success({message:"Save [".concat(d,"]")}),s(e)})).catch((function(e){return ze(e)}))}},onCancel:function(){o()}})},pa=function(e){var t,n=e.dataBase,a=e.setRightPanelData,c=Object(d.useState)([]),o=Object(r.a)(c,2),j=o[0],u=o[1],b=Object(d.useState)(void 0),O=Object(r.a)(b,2),h=O[0],f=O[1],p=(t={},Object(s.a)(t,Va.QUERY_CONFIG,"/".concat(n.name,"/configurations/query/position")),Object(s.a)(t,Va.SAVE_CONFIG,"/".concat(n.name,"/configurations/save/position")),Object(s.a)(t,Va.FLOW_CONFIG,"/".concat(n.name,"/configurations/flow/position")),t);Object(d.useEffect)((function(){x().then((function(e){return e}))}),[n]);var x=function(){var e=Object(Ot.a)(bt.a.mark((function e(){var t,a,c,i,r,s;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!n.name){e.next=36;break}return t="/".concat(n.name,"/configurations/query"),a="/".concat(n.name,"/configurations/save"),c="/".concat(n.name,"/configurations/flow"),e.prev=4,e.t0=ua,e.next=8,Ee(t);case 8:return e.t1=e.sent.data,e.t2=t,e.t3=Va.QUERY_CONFIG,e.t4=n,i=(0,e.t0)(e.t1,e.t2,e.t3,e.t4),e.t5=ua,e.next=16,Ee(a);case 16:return e.t6=e.sent.data,e.t7=a,e.t8=Va.SAVE_CONFIG,e.t9=n,r=(0,e.t5)(e.t6,e.t7,e.t8,e.t9),e.t10=ua,e.next=24,Ee(c);case 24:e.t11=e.sent.data,e.t12=c,e.t13=Va.FLOW_CONFIG,e.t14=n,s=(0,e.t10)(e.t11,e.t12,e.t13,e.t14),f([{id:null,key:Object(ht.d)(),dataBase:n,url:{configuration:{set:t}},type:Va.QUERY_CONFIGS,icon:Object(H.jsx)(ft.a,{}),configName:"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",isLeaf:!1,isGroup:!0,children:i},{id:null,key:Object(ht.d)(),dataBase:n,url:{configuration:{set:a}},type:Va.SAVE_CONFIGS,icon:Object(H.jsx)(ft.a,{}),configName:"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f",isLeaf:!1,isGroup:!0,children:r},{id:null,key:Object(ht.d)(),dataBase:n,url:{configuration:{set:c}},type:Va.FLOW_CONFIGS,icon:Object(H.jsx)(ft.a,{}),configName:"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043f\u043e\u0442\u043e\u043a\u043e\u0432",isLeaf:!1,isGroup:!0,children:s}]),e.next=36;break;case 32:e.prev=32,e.t15=e.catch(4),f([]),ze(e.t15);case 36:case"end":return e.stop()}}),e,null,[[4,32]])})));return function(){return e.apply(this,arguments)}}(),m=function(e){var t=e.node.key,n=e.dragNode.key,a=e.node.pos.split("-"),c=e.dropPosition-Number(a[a.length-1]),i=Object(P.a)(h),r=function(){var e;return Oa(i,n,(function(t,n,a){a.splice(n,1),e=t})),e};if(s=e.node,o=e.dragNode,s.type===o.type||s.type===Va.QUERY_CONFIGS&&o.type===Va.QUERY_CONFIG||s.type===Va.SAVE_CONFIGS&&o.type===Va.SAVE_CONFIG||s.type===Va.FLOW_CONFIGS&&o.type===Va.FLOW_CONFIG){var s,o;if(e.dropToGap){var l=r();Oa(i,t,(function(t,n,a){l.parentId=e.node.parentId,-1===c?a.splice(n,0,l):a.splice(n+1,0,l),f(i),console.log("\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043c\u0435\u0441\u0442\u043e => ",l)}))}else{if(!e.node.isGroup)return void y.a.error({message:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0432 \u043a\u043e\u043d\u0444\u0438\u0433"});Oa(i,t,(function(t){var n=r();t.children=t.children||[],n.parentId=e.node.id||null,t.children.unshift(n),f(i),console.log("\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043d\u0430\u0447\u0430\u043b\u043e => ",n)}))}var d=p[e.dragNode.type];ha(d,i,e.dragNode.type)}else y.a.error({message:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u043c\u0435\u0436\u0434\u0443 \u0442\u0438\u043f\u0430\u043c\u0438"})},g=function(e){u(e)},w=function(e){return function(t){switch(t.key){case"addGroup":C(e);break;case"addConfig":k(e);break;case"rename":I(e);break;case"removeGroup":e.children&&e.children.length>0?y.a.error({message:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443 \u0441 \u043a\u043e\u043d\u0444\u0438\u0433\u0430\u043c\u0438"}):A(e);break;case"copyAs":N(e);break;case"remove":A(e)}}},C=function(e){fa({node:{},parentNode:e,nodeNormalize:function(t){return Object(l.a)(Object(l.a)({},t),{},{id:Object(ht.d)(),isGroup:!0,parentId:e.id,position:e.children&&e.children.length||0,userId:"0be7f31d-3320-43db-91a5-3c44c99329ab",loggingQueries:!1,logic:"{}"})},title:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438",icon:Object(H.jsx)(Dn.a,{}),request:function(t){return Re(e.url.configuration.set,t)},onOk:function(e){return x().then((function(e){return e}))},onCancel:function(){}})},k=function(e){fa({node:{},parentNode:e,nodeNormalize:function(t){return Object(l.a)(Object(l.a)({},t),{},{id:Object(ht.d)(),isGroup:!1,parentId:e.id,position:e.children&&e.children.length||0,userId:"0be7f31d-3320-43db-91a5-3c44c99329ab",loggingQueries:!1,logic:"{}"})},title:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438",icon:Object(H.jsx)(Dn.a,{}),request:function(t){return Re(e.url.configuration.set,t)},onOk:function(e){return x().then((function(e){return e}))},onCancel:function(){}})},I=function(e){fa({node:e,parentNode:e,nodeNormalize:function(e){return e},title:"\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438",icon:Object(H.jsx)(Dn.a,{}),request:function(t){return Re(e.url.configuration.set,t)},onOk:function(e){return function(e){var t=Object(P.a)(h);Oa(t,e.key,(function(n,a,c){c[a]=e,f(t)}))}(e)},onCancel:function(){}})},N=function(e){fa({node:e,parentNode:e,nodeNormalize:function(e){return Object(l.a)(Object(l.a)({},e),{},{id:Object(ht.d)()})},title:"\u0414\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438",icon:Object(H.jsx)(oa.a,{}),request:function(t){return Re(e.url.configuration.set,t)},onOk:function(e){return x().then((function(e){return e}))},onCancel:function(){}})},A=function(e){fa({node:e,parentNode:e,nodeNormalize:function(e){return Object(l.a)(Object(l.a)({},e),{},{id:null})},title:"\u0423\u0434\u0430\u043b\u0438\u043d\u0438\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438",icon:Object(H.jsx)(Tn.a,{}),request:function(t){return n="".concat(e.url.configuration.set,"/").concat(e.id),Fe({method:"DELETE",url:"/api".concat(n)});var n},onOk:function(e){return x().then((function(e){return e}))},onCancel:function(){}})},F=function(e){var t=[];return e.isGroup?(t.push(Object(H.jsxs)(L.a.Item,{children:[Object(H.jsx)(ft.a,{}),"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0430\u043f\u043a\u0443"]},"addGroup")),t.push(Object(H.jsxs)(L.a.Item,{children:[Ma[e.type],"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433"]},"addConfig")),[Va.QUERY_CONFIG,Va.SAVE_CONFIG,Va.FLOW_CONFIG].includes(e.type)&&(t.push(Object(H.jsxs)(L.a.Item,{children:[Object(H.jsx)(Dn.a,{}),"\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c"]},"rename")),t.push(Object(H.jsxs)(L.a.Item,{children:[Object(H.jsx)(Tn.a,{}),"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443"]},"removeGroup")))):(t.push(Object(H.jsxs)(L.a.Item,{children:[Object(H.jsx)(Dn.a,{}),"\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c"]},"rename")),t.push(Object(H.jsxs)(L.a.Item,{children:[Object(H.jsx)(oa.a,{}),"\u0414\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433"]},"copyAs")),t.push(Object(H.jsxs)(L.a.Item,{children:[Object(H.jsx)(Tn.a,{}),"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433"]},"remove"))),Object(H.jsx)(L.a,{onClick:w(e),className:"context-menu",children:t})},E=function(e){return Object(H.jsx)(S.a,{overlay:F(e),trigger:["contextMenu"],children:Object(H.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",paddingRight:"8px"},children:[Object(H.jsx)(ge.a,{title:e.description,placement:"topLeft",mouseEnterDelay:.75,children:Object(H.jsx)("span",{style:{width:"100%"},onClick:function(){!e.isGroup&&a(Object(l.a)({},e))},children:e.configName})}),!e.isGroup&&e.type===Va.QUERY_CONFIG&&Object(H.jsxs)(i.b,{children:[e.customSql&&Object(H.jsx)(ge.a,{title:"Exist custom SQL",children:Object(H.jsx)(Je,{})}),e.hierarchical&&Object(H.jsx)(ge.a,{title:"Hierarchical",children:Object(H.jsx)(la.a,{})})]}),e.isGroup&&Object(H.jsxs)(i.b,{children:[Object(H.jsx)(ge.a,{title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433",children:Object(H.jsx)(v.a,{onClick:function(){return w(e)({key:"addConfig"})},size:"small",className:"ant-tree-title-btn",icon:Object(H.jsx)(Vn.a,{}),type:"text"})}),Object(H.jsx)(S.a,{size:"small",className:"ant-tree-title-btn",trigger:["click"],overlay:F(e),children:Object(H.jsx)(ge.a,{title:"\u0414\u043e\u043f. \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f",children:Object(H.jsx)(v.a,{size:"small",className:"ant-tree-title-btn",icon:Object(H.jsx)(da.a,{}),type:"text"})})})]})]})})},R=function(e,t,n){return Object(H.jsx)("div",{style:{width:t,height:e,overflow:"auto",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:Array.isArray(n)?n.map((function(e,t){return Object(H.jsx)(ra.a.Title,{level:4,type:"secondary",style:{marginTop:0},children:e},t)})):Object(H.jsx)(ra.a.Title,{level:4,type:"secondary",children:n})})};return Object(H.jsx)("div",{style:{height:"100%"},children:Object(H.jsx)(ja.a,{children:function(e){return function(e,t){return h?h&&0===h.length?R(e,t,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u0443\u044e \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445"]):h&&h.length>0?Object(H.jsx)("div",{style:{width:t,height:e,overflow:"auto"},children:Object(H.jsx)(Tt.a,{blockNode:!0,showIcon:!0,treeData:h,draggable:function(e){return[Va.QUERY_CONFIG,Va.SAVE_CONFIG,Va.FLOW_CONFIG].includes(e.type)},expandedKeys:j,onDrop:m,onExpand:g,titleRender:E})}):void 0:R(e,t,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445")}(e.height,e.width)}})})},xa=n(1021),ma=n(1022),ga=function(e){var t=e.databases,n=void 0===t?[]:t;return Object(H.jsx)(C.i,{buttonProps:{hidden:!0},modalConfig:{type:"save",title:"Migrate configs",form:{name:"migrateConfigs",labelCol:{span:10},wrapperCol:{span:12}}},subscribe:[{name:"migrateConfigsModal",path:"rtd.leftSide.configs.events.onMigrateConfigs",onChange:function(e){e.value,e.setModalData;(0,e.openModal)()}}],children:Object(H.jsxs)(C.f,{noPadding:!1,scrollable:!1,children:[Object(H.jsx)(ia,{databases:n}),Object(H.jsx)(ia,{databases:n})]})})},va=function(e){Object(Ve.c)();var t=e.onChangeDataBase,n=Object(d.useState)([]),a=Object(r.a)(n,2),c=a[0],s=a[1],o=Object(d.useState)({}),j=Object(r.a)(o,2),u=j[0],b=j[1];Object(d.useEffect)((function(){Fe({method:"GET",url:"/api/databases"}).then((function(e){return s(e.data)})).catch(ze)}),[]);var O=function(){t(Object(l.a)({},u))},h=Object(H.jsx)(L.a,{onClick:function(){Re("/migrate-configs",{dataBaseSource:"MI_DEV_121.117",dataBaseTarget:"MI_DEMO_31.117",type:"FULL"}).then((function(e){return y.a.success({message:"\u0423\u0441\u043f\u0435\u0448\u043d\u0430\u044f \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u044f"})})).catch((function(e){return Object(ht.b)(e,"\u041e\u0448\u0438\u0431\u043a\u0430 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438")}))},children:Object(H.jsx)(L.a.Item,{children:Object(H.jsxs)(i.b,{children:[Object(H.jsx)(xa.a,{}),"Migrate configs 121.117 to 31.117"]})},"0")});return Object(H.jsx)("div",{style:{padding:"4px",borderBottom:"2px solid #f0f0f0"},children:Object(H.jsxs)("div",{style:{display:"flex"},children:[Object(H.jsx)(ia,{databases:c,onChange:function(e){console.log("onChangeDataBaseHandler",c,e),b(e),t(e)}}),Object(H.jsx)(ge.a,{title:"Reload configs",children:Object(H.jsx)(v.a,{size:"small",type:"text",icon:Object(H.jsx)(Ie.a,{}),onClick:O})}),Object(H.jsx)(S.a,{overlay:h,trigger:["click"],children:Object(H.jsx)(ge.a,{title:"Tools",children:Object(H.jsx)(v.a,{size:"small",type:"text",icon:Object(H.jsx)(ma.a,{}),onClick:O})})}),Object(H.jsx)(ga,{databases:c})]})})},ya=function(e){var t=e.setRightPanelData,n=Object(d.useState)({name:void 0}),a=Object(r.a)(n,2),c=a[0],i=a[1];return Object(H.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:[Object(H.jsx)(va,{onChangeDataBase:function(e){console.log("onChangeDataBaseHandler",e),i(e)}}),Object(H.jsx)(pa,{setRightPanelData:t,dataBase:c})]})},wa=n(55),Ca=n.n(wa),ka=n(197),Ia=n(570),Sa=function(e){var t=e.setRightPanelData,n=Object(d.useState)({username:"",password:"",hash:""}),a=Object(r.a)(n,2),c=a[0],s=a[1],o=Object(d.useState)([]),j=Object(r.a)(o,2),u=j[0],b=j[1];return Object(H.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:[Object(H.jsxs)("div",{style:{display:"flex",alignItems:"center",height:"34px",padding:"4px 11px",borderBottom:"2px solid #f0f0f0"},children:[Object(H.jsx)(at,{style:{margin:"0 8px 0 0",color:"rgb(0, 129, 189)"}}),"JIRA Filters"]}),Object(H.jsxs)(i.b,{direction:"vertical",style:{margin:"8px 16px 8px 16px"},children:[Object(H.jsx)(N.a,{allowClear:!0,size:"small",type:"text",placeholder:"Login",value:c.username,onChange:function(e){s(Object(l.a)(Object(l.a)({},c),{},{username:e.target.value,hash:"Basic ".concat(btoa(e.target.value+":"+c.password))}))}}),Object(H.jsx)(N.a,{allowClear:!0,size:"small",type:"password",placeholder:"Password",value:c.password,onChange:function(e){s(Object(l.a)(Object(l.a)({},c),{},{password:e.target.value,hash:"Basic ".concat(btoa(c.username+":"+e.target.value))}))}}),Object(H.jsx)(C.a,{size:"small",style:{width:"100%"},onClick:function(){!function(){var e="Basic ".concat(btoa(c.username+":"+c.password));Fe({method:"GET",headers:{jiraAuth:e},url:"/api/jira/rest/api/2/filter/favourite"}).then((function(e){b(e.data.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{type:Va.JIRA_FILTER,title:Object(H.jsxs)(i.b,{children:[Object(H.jsx)(Ia.a,{style:{color:"rgb(0, 129, 189)"}}),Object(H.jsx)("span",{children:e.name})]}),key:"jiraFilter/".concat(e.name,"/").concat(e.id),isLeaf:!0})})))})).catch(ze)}()},children:"Load filters"})]}),Object(H.jsx)("div",{style:{overflow:"auto"},children:Object(H.jsx)(Tt.a,{onSelect:function(e,n){var a=n.node;t(Object(l.a)(Object(l.a)({},a),{},{jiraAuth:c.hash}))},treeData:u})})]})},Na=function(e){var t=e.SplitPaneProps,n=e.splitPaneSize,a=e.setSplitPaneSize,c=Object(Ve.c)(),i=Object(d.useState)("1"),s=Object(r.a)(i,2),o=s[0],l=s[1],j=function(e){!function(e){var t=e.dispatch,n=e.path,a=e.value,c=e.type;t&&n&&ka.a&&t("event"===c?Object(ka.a)(n,{timestamp:Ca()(),value:a}):Object(ka.a)(n,a))}({dispatch:c,path:"main.tabs.events.onOpenTab",value:e})};return Object(H.jsxs)(x.a,{className:"app-page-tabs app-page-tabs-vertical",tabPosition:"left",size:"small",defaultActiveKey:o,activeKey:o,onChange:function(e){o===e?(l("0"),a(t.blockedSize)):(l(e),a(n===t.blockedSize?t.defaultSize:n))},children:[Object(H.jsx)(x.a.TabPane,{tab:Object(H.jsxs)("span",{children:[Object(H.jsx)(h.a,{style:{margin:"0 8px 0 0"}}),"\u041a\u043e\u043d\u0444\u0438\u0433\u0438"]}),className:"app-page-tab data-bases",children:Object(H.jsx)(ya,{setRightPanelData:j})},"1"),Object(H.jsx)(x.a.TabPane,{tab:Object(H.jsxs)("span",{children:[Object(H.jsx)(at,{style:{margin:"0 8px 0 0"}}),"JIRA"]}),className:"app-page-tab",children:Object(H.jsx)(Sa,{setRightPanelData:j})},"3")]})},La=n(194),Pa=n(1023),Aa=function(e){var t=e.data,n=Object(d.useState)(void 0),a=Object(r.a)(n,2),c=a[0],i=a[1];return Object(H.jsxs)(u.a,{className:"ssh-tab",split:"vertical",minSize:"30%",maxSize:"70%",defaultSize:"50%",children:[Object(H.jsxs)(C.k,{direction:"vertical",className:"ssh-tab-left",children:[Object(H.jsxs)(g.a,{gutter:8,children:[Object(H.jsx)(w.a,{span:12,children:Object(H.jsx)(k.a,{size:"small",style:{width:"100%"},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u0443",onChange:function(e){i(e)},children:t.commands.map((function(e,t){return Object(H.jsx)(k.a.Option,{value:e.command,children:Object(H.jsxs)(C.k,{children:[Object(H.jsx)(Pa.a,{style:{color:"rgb(0, 129, 189)"}}),Object(H.jsx)("span",{children:e.name})]})},t)}))})}),Object(H.jsx)(w.a,{span:12,children:Object(H.jsx)(v.a,{onClick:function(){sa.a.confirm({width:440,title:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u0443?",icon:Object(H.jsx)(La.a,{}),content:c,onOk:function(){console.log("onClickExecute => ",c),Re("/execute",{serverName:t.name,cmd:c}).then((function(e){return console.log("res => ",e.data)}))},onCancel:function(){console.log("Cancel")}})},size:"small",style:{width:"100%"},children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u0443"})})]}),Object(H.jsx)(N.a.TextArea,{value:c,onChange:function(e){return i("".concat(e.target.value))},autoSize:{minRows:2,maxRows:10}})]}),Object(H.jsx)("div",{style:{display:"flex",width:"100%"}})]})},Fa={alias:null,position:0,visible:!0,resizable:!0,sortable:!1,align:"left",defaultSort:null,defaultFilter:null},Ea={hierarchical:!1,hierarchyField:"",hierarchyView:"",hierarchyLazyLoad:!1,fields:[Object(l.a)(Object(l.a)({},Fa),{},{name:"issuetype",header:"Type",align:"center",resizable:!1,width:50}),Object(l.a)(Object(l.a)({},Fa),{},{name:"priority",header:"Priority",width:100}),Object(l.a)(Object(l.a)({},Fa),{},{name:"status",header:"Status",alias:"status",width:140}),Object(l.a)(Object(l.a)({},Fa),{},{name:["fields","project","name"],header:"Project",width:150}),Object(l.a)(Object(l.a)({},Fa),{},{name:"key",header:"Key",width:150}),Object(l.a)(Object(l.a)({},Fa),{},{name:["fields","assignee","displayName"],header:"Assignee",width:130}),Object(l.a)(Object(l.a)({},Fa),{},{name:["fields","summary"],header:"Summary"})]},Ra=[{name:"issuetype",cellRenderer:function(e){var t=e.rowData;return Object(H.jsx)(ge.a,{title:t.fields.issuetype.name,children:Object(H.jsx)("img",{src:t.fields.issuetype.iconUrl})})}},{name:"key",cellRenderer:function(e){var t=e.cellData;return Object(H.jsx)("a",{href:"https://atlassian.dias-dev.ru/jira/browse/".concat(t),target:"_blank",children:t})}},{name:"priority",cellRenderer:function(e){var t=e.rowData.fields.priority;return Object(H.jsx)("div",{className:"jira-priority jira-priority-".concat(t.name),children:t.name})}},{name:"status",cellRenderer:function(e){var t=e.rowData.fields.status;return Object(H.jsx)("div",{className:"jira-status jira-status-".concat(t.statusCategory.colorName),children:t.name})}}],Da=function(e){var t=e.data,n=Object(d.useState)(!1),a=Object(r.a)(n,2),c=a[0],i=a[1],s=Object(d.useState)(t.jql),o=Object(r.a)(s,2),j=o[0],u=o[1];Object(d.useEffect)((function(){c||setTimeout((function(){return i(!0)}),20)}),[c]);var b=function(){return i(!1)};return c?Object(H.jsxs)(C.h,{children:[Object(H.jsxs)("div",{style:{display:"flex",marginBottom:"8px"},children:[Object(H.jsx)(N.a,{size:"small",value:j,onChange:function(e){return u(e.target.value)},onPressEnter:b,style:{marginRight:"8px"}}),Object(H.jsx)(v.a,{size:"small",icon:Object(H.jsx)(Ie.a,{}),onClick:b,children:"Reload tasks"})]}),Object(H.jsx)(C.m,{fixWidthColumn:!0,customColumnProps:Ra,requestLoadRows:function(){return Fe({method:"POST",headers:{jiraAuth:t.jiraAuth},url:"/api/jira/rest/api/2/search",data:{jql:j}}).then((function(e){return new Promise((function(t){return t(Object(l.a)(Object(l.a)({},e),{},{data:e.data.issues}))}))})).catch((function(e){return new Promise((function(t,n){return n(e)}))}))},requestLoadConfig:function(){return new Promise((function(e){return e({data:Ea})}))}})]}):Object(H.jsx)(f.a,{})},Ta={minSize:315,maxSize:800,defaultSize:350,blockedSize:32},za=function(e){return{key:e.key,data:Object(l.a)({},e),title:Object(H.jsxs)(j.a.Fragment,{children:[Ma[e.type],"".concat(e.configName," [").concat(e.dataBase.name,"]")]}),content:Object(H.jsxs)(o.a,{className:"app-page-tab-content",children:[e.type===Va.QUERY_CONFIG&&Object(H.jsx)(Ct,{data:e}),e.type===Va.SAVE_CONFIG&&Object(H.jsx)(Dt,{data:e}),e.type===Va.FLOW_CONFIG&&Object(H.jsx)(aa,{data:e})]})}},Va={QUERY_CONFIGS:"query_configs",QUERY_CONFIG:"query_config",SAVE_CONFIGS:"save_configs",SAVE_CONFIG:"save_config",FLOW_CONFIGS:"flow_configs",FLOW_CONFIG:"flow_config",SSH_SERVER:"ssh_server",JIRA_FILTER:"jira_filter"},Ma=(a={},Object(s.a)(a,Va.QUERY_CONFIGS,Object(H.jsx)(_e,{style:{margin:"0 4px 0 0"}})),Object(s.a)(a,Va.QUERY_CONFIG,Object(H.jsx)(_e,{style:{margin:"0 4px 0 0"}})),Object(s.a)(a,Va.SAVE_CONFIGS,Object(H.jsx)(et,{style:{margin:"0 4px 0 0"}})),Object(s.a)(a,Va.SAVE_CONFIG,Object(H.jsx)(et,{style:{margin:"0 4px 0 0"}})),Object(s.a)(a,Va.FLOW_CONFIGS,Object(H.jsx)(tt,{style:{margin:"0 4px 0 0"}})),Object(s.a)(a,Va.FLOW_CONFIG,Object(H.jsx)(tt,{style:{margin:"0 4px 0 0"}})),Object(s.a)(a,Va.SSH_SERVER,Object(H.jsx)(h.a,{style:{margin:"0 4px 0 0",color:"rgb(0, 129, 189)"}})),Object(s.a)(a,Va.JIRA_FILTER,Object(H.jsx)(at,{style:{margin:"0 4px 0 0",color:"rgb(0, 129, 189)"}})),a),Ha=(c={},Object(s.a)(c,Va.QUERY_CONFIGS,za),Object(s.a)(c,Va.QUERY_CONFIG,za),Object(s.a)(c,Va.SAVE_CONFIGS,za),Object(s.a)(c,Va.SAVE_CONFIG,za),Object(s.a)(c,Va.FLOW_CONFIGS,za),Object(s.a)(c,Va.FLOW_CONFIG,za),Object(s.a)(c,Va.SSH_SERVER,(function(e){return{key:e.key,data:Object(l.a)({},e),title:Object(H.jsxs)(j.a.Fragment,{children:[Ma[e.type],"SSH [".concat(e.name,"]")]}),content:Object(H.jsx)(o.a,{className:"app-page-tab-content",children:Object(H.jsx)(Aa,{data:e})})}})),Object(s.a)(c,Va.JIRA_FILTER,(function(e){return{key:e.key,data:Object(l.a)({},e),title:Object(H.jsxs)(j.a.Fragment,{children:[Ma[e.type],"".concat(e.name)]}),content:Object(H.jsx)(o.a,{className:"app-page-tab-content",children:Object(H.jsx)(Da,{data:e})})}})),c);j.a.Fragment,o.a,Object(ht.d)(),t.d=function(){var e=Object(d.useState)(Ta.defaultSize),t=Object(r.a)(e,2),n=t[0],a=t[1];return Object(H.jsx)(o.a,{style:{height:"100%",background:"white"},children:Object(H.jsxs)(o.a,{className:"app",children:[Object(H.jsxs)(o.a.Header,{className:"app-header",children:[Object(H.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZYAAAA3CAYAAAAvz2xpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA+TSURBVHgB7Z3xldy2Eca/y8v/OjUQQSkgPqcAi3IBtpwCfJQLsE4pIEe5APucAnx0CrDlFKDbNBDZDXjhFGDZDVjZ70h491bEDEASXPKE33vQaQkSBEFgBpgBwCPc5LgNZuf/u/C4bf//Sxu+b/9mMnPh/iZ8tQnFzrF6E55hW3/njsHN9rgf92oTfm1/W2zb4hwwO8H9tu3/+XdOeZ2CY7wpW3fhMfc+b5VcNZtwtQmvewYWyrebcIo3G0EmMyVUKmt019MfMX/O0bSnvm2R7fgCN5XqFBSbcAl/2UsyY2482YSXaJ7FBT6bQRysi3wfQ+TqVZsfg/GgYmMdWY8c/oud93mM8MoQU7kfIZOZnsfw18vfML3ADeVoE77AuO2QivQU6aDsOMcwRciwbtM5xuGpIJdnaB75PtcYX66eYhgp8rXfxs54ozLhTa6QRzCZaakgV/oS8+Qu0rXDFArmIcYXUKkVoQaFrqQkfxeaAXyEtO/ToB8p87Wbv+shUeobnSOTmQYKPEkwFJgnUr7HCvQ7jTEqOEO6PPIdneMw3IeevyowrQoYXBYpyqlKnC+Xt2un5usJwjkymfSw13mF7jr4BebLFIqFYUhvl1RIm78hQnMoS1IsLnyOOKoJ8vTijwjH7v02iKNq/z5DJpMOVmwK6RJbswpn1zzfhK+xfNysIUfX7E0JCs8Xm/BXxM86qjCNwD/auc9tlxd277dBHE/bv3/HPFhvwichiqWEv0GeoCkIOupPoVOhmVJ3gUwmLXUbbguXaIRHlzKgYmFbZDv8ELpwonL5ZhPeRzhU1qFKhUr8u01Y4aYijJEXTrn80KZ3m2Dnh5NMfHLV4Ob71DoONE3+D+PI1dUm/Af9sGje1fX7riEPa4rARA3C/DWvkB36mcw+mimsCk/qujO4hm5uCnVEh84k4kjIBKbJ8+qANH/GdLPFpjKFxfj6DMLMV78hrOwrJY0SI/AHjIdFU1HZQKQhNivJnG3dmczSqdGMRr4XznEjghChzfOMcs6z9p4WYfC8Erqpi7PlQhXgbcSiUQZ/hly2fJ9fYSaMqVgcK+jKhUO8AplMJhVr6MqFSkUT2uzFnyrnXCJuRLULFcuXyjmfYh5rXA6Je5+SXC0wE7maQrEQVmatJ5IXUGYyaaHZ+W+QhZEmtAvIoxUKvM/QH5pgtK123vZRi0Mra45a/oEZEDMrLBb6W6StCNgL8lWW3Zku+7Ng+hKbpjtfO5fnFG24s3OckxRWaJSsxXAMGoee22/oXsc5vCcr308j3TekDBjPTsKDvXysoDtdeS3rwcnetdxOgw5Ei2GY9u9YdchRbMI7aHrzdzriWf4U6nQ8r3BYWB84IvA53p3jf9URR0H1KfyEKIUQWFYUmJIph/mokKFc/QD+kYmTEWPW917UGMd530XVI20Kqf3VrxQ0Bv1gIdcdaUrD+yd753fdP2Y7i0v0y3+BZj+lvltmvES//duO2/vuprW/uC7k+X1rJtgDrZGu3N7Fm87moes3DJpGHfsueN+TgPTHdN7vo63q9/k8NWd2qMM4NI/aqveQchzCHJ33XTxV0v4Q/fNVYiRqxAv/UI4R/5LWI+bFCOm98lxTes5f75xzingBw+tjGsajyPS1e8eYHmtPOt+08WyALwPvzVk9ZidtCtCYsotVCNomlH1s9RWGlX/IfVMqFmnRqMtfF4+VPL3AeDCPNWShd4a0LEWx9O0ohOSrxAik8rE4OByzQnyXoJUa4DniqOAXSr6h4qnnuEFTGZiHGvECyqAZBYReN+bMOdPeuwg831cGVE4cDVCghCrJu9gKoLL9f+yCvpjZLgX875zHYxQs804FGlvvuu77AIeDQuPfQrzBm++Egv4d9E8zFqYnrZ9gfv6CDKHsWgnxh6xr16RWLESqLF0V9zvh/AJxvVepgFee4wZ+KOwr9McgTGEYpFnrE6PYumDjjlmr4KBy4HNfoh8FwpXiPYyDU4ipzS9TYZV403HsHeWa7zEuWnoFMo4fhDiDA5PSee+wQpzpOFZD9n+wx3kBnQJyAWtTHLsYQ8iUaGykknPNOZuPlXiLm3nTlIabXlqhP30V0xAzBhXax5jOEe5m14ylVCxkQTAFmtA+6ThHe36LcbFKvEGGcHQn1afdSTcxsN6H7NzQBc3bHBRYd6CGbK8rMIxSSd+gO5O+868QRg3Z5+BjjXDbOfNSYDvCKBDmlA4RsmdtXtwHkTih4BHkl24C7r+GTsiz86M+xc41DxFXdhW2SspA92P8jDAqDLchv4uwZ7jEmx0Y/v+kPf6kDSHKOKWPhRxBLpeziPPdNWMTsm29QTqW4mMhH6FfOVUIb6Ox4YY/tFZOLjAMzQltEPfwrHghDXUtpHHa87rdPBRCGmfQBVJKLhBf5rtoz+/LPxum5pingujqCR8p+Z5qywrN0e0aUIFxOaRi6UpfcxCHKvrYPK4xvA70ZUmK5WHP9CvozzgksBM8iY8ldjhGVkKcm3cvUUCugJLfJwS+1JUQf6HEF0iLZirUbOcSazSzhbqwkE0urHifec5hnORfIwbpMZDfD/PJRYcrLA8bca7WeevTrkMIWV+WmS/XsmUKxdKHFeSGq83skeJrDLMNP0OY01ISkgZpsZAb6H30519KvOZLkJSeVq4G6dHqVo3xndaZLVmxLJsV/5mrYiHSqEJaAKTFf43+sNJXgedaJT51A9F2C+gDe+tWiZcUi4WMm5RwKGiKeU+I5/NpinXOGGQy6aA143rLmSlmhRn0gz3bcyFNBtsRdwL/PXn+Cv2J6alaJb7PrA2HwXYLGd+2IgbLRJoNNwVGiV8hkxKjxFtkQugrW1bo5yqw2PkWyxSKRRMS1nPcLQIqPPG+accl/Gg2fA0bce7YPW8+7yma8sjmgHRI/rslm8CkOtM1ErWQMUjDoXw7S8Mo8RbxsB7QolNjIFOYwowQp1USbbFkF5IZTHNqz5ES2ynHVC5ZqaTDKPFLFmonSrztOKY9r8H4ZMUSxj0l/qDlNIVikWYgaT3AGv4CetBxTDKDrbCsYTQb2GUbsjKZB79iufQR2BYyBuOiKb8ljxjHRNtu5+DlNIVikSqLNoOIld03amFDKfaOFfBTY1lQoZTIzIlXWCYURA+EeLazLmGktU9NEcRilPifkHEYIe7g5ZRasWjbjLyETi3EPdr7feo5z2LYbLCp4aSFR8o5z9GsJ+EqcS5mO9oLFv04QuY2IikW37oiSbGwnnyA8XDbifhgfp4jQwz8Sp3lNHSd3mBSO+814RhSACv4ZwrtNhYDf2GvsBz4nKUQTyHA7RwsMlNjsEwMZEHk26WYgvxz+HEdx7Hs+Q+U+IMLzJlQKPErHJjUI5ZTIY4C0iIM32hjd0QkKbE+G04eCmk/MItwpZL9MvFYJd5geXAkcK6cs/Ict5Dt9VonKIYScvnGyIvbjNsg1YfFLfexsDIbIf4C4UhD4LL9K5nBluT00xZ3WugcIyuWvlghzmB55Wqgd/B87UPbZodCjp8MHlommrBkPpbUOUxJCVmurjADUikWA32FesywdgV/5S8gD/UrLIuhPimimSAzfrR6uaSypcD+Rjnny4B4ydTFBbqSUghB64RaLMtHmgqtrN1efAcnhWKhgL9SzmFltYjD13OiXVZq7Euzy0qK5S7CeIJMH0Ic1h9jGbCu8Mub0swtC11gcyacpnzO0P8rm6VyLd/JM2SoVLSP7NWYiblwTMVCgcgKQqVihPMs+i1UvFDu20WN5dllpd5hyPTOc4w/DfRtolbiC6T/9vpQHqL5Xk4pnBOzBbw2ajlq0+JXQg3COEbYV0Ut8miFHUW+TyOc8/s+XXMgZFbYHSGOlYNCjKOGM4TZWvn1RIt4pC1efPddYoWU5qDTVk4Faz3xrIAVMkNgPWO98fklKETdTKk+HaS+/EmJN2j8cxy9F9ChsghtHxy1fALdrHbW3n/Vpr3ai4+VF7zv+7id3FHiC4SXkxvVWQzDrXfqs+TAbQtEC9HrEMXyvL3A7h03iJ8l8wzD5qLTHFYEnmuxzA0D6UvyCTVWMI4IK2xNgzwWI1AyMq6RSg5vNjz2tqnInQD9BdtevcHW73evjR/qfH6MZkbgvq/xGPGTCuirizUvfdteo5m8DJqRUtn+3i+XUNx3byxuH6w/Y8pVjlTG6kSXGDbTjyOn685AjbRfFIv98poEG4/2hUIX+vYm10KalxHpGMj5M57rjnHYdyF9aTDkC4yPhet/VK6VviAY+lnhCsPy73iK6cqcPBz5fr6gmVQk+H7qxPlj4NcpS0zPfQx/j44KGFwOY9SrQ+TrxVTfY3mKcRSLb+uJLqY0U4wJn3Fo79ZieVvYzA3WnzFNqe/h8HDUwd6kRT8oNEqkdaav0eSxRkaC72IsuTo2J1QsoYK6Dys0W46MKeRDKvUK/RuPFeJiNiH8ZUB8hWH5Z+/XN7vpNYblTdsvy6JfuiHXh+zV9ZMSH7rfF8uJo6+x1k9YJT5lO+QzUwjRtBTyDjQqNGVjMS4s83/icOvOLOTyCWk7Dq0eDoGmTCrfPnLVIj3XZRRjXgoNV0hn7w/J7yn680hI1yCO2pNOSIUwkM1yvnI37fXHnut/hP4cFbrT10xZxGfOohkq5L08HXBvchf+cgtNY58S8e9i/9mNcg+W27cD7tEV2E4qpFvUaZDGNMb3dIrp4Tu4gJwvE5iWVA/7hisML5e77XO8ThRY18/dzU5GKAQ+dIVpHMjSy19jOCVulgefrUA8bNA1torQNfQYKujvxpe/+22cO4/z4EOnIle4qcC1OfT7990VkrSZnyGcEjefOebe7v67z90nDV++9tMNEZKPAtNno68j0++q/2wfBabDoF/ZhJSdwfRUeLPzGtN2HKyHawwrA45Oxn6fBs3z/DZyYDu/XkO3P63M7b3lgvHn7brgaRrisNVi2g/L1PBrbsY9xu2jQPMNht1FkhY7nwPNTIabNmvQ3UYstv5Ai/7ph7RDd79DtEMfBbbP4ODvO7gpX0IENYXrMyx7keRS5OpbjYGs4WN7FZlM5jBQyHI0V0PvuX+FvP9dJiElZDNAJpNZHiFmI06VzsolkwSp8p0ik8kslaxcMgehhFzpDDKZzJIJUS4vkMmMyBX8le0SmUzmNsC1b9qSgs+RyYyAgVzRCmQymduCtDUQA6e3ZpNYZjA1stM+k3mb4KabPrNY38WumQk4wjIwkJUH57hXyGQyt5ECb/pP8/qtzGBKZKd9JpPJLIKpdjceSiHEjfGBm0wmk8m8ZXA1/f4sEf4+QyaTyWRmxVJ8LMRgu+eO+0xxtrFmMpnMzPg/FJyodctQy0YAAAAASUVORK5CYII=",alt:"Logo",className:"app-header-logo"}),Object(H.jsxs)(i.b,{size:16,children:[Object(H.jsx)("span",{className:"app-header-version",children:"v1.0.12"}),Object(H.jsxs)("a",{href:"/logout",className:"app-header-logout",children:[Object(H.jsx)(nt,{}),Object(H.jsx)("span",{children:"Logout"})]})]})]}),Object(H.jsx)(o.a.Content,{className:"app-page",children:Object(H.jsxs)(u.a,{split:"vertical",minSize:Ta.minSize,maxSize:Ta.maxSize,size:n,defaultSize:Ta.defaultSize,allowResize:n!==Ta.blockedSize,onChange:function(e){a(e)},children:[Object(H.jsx)(Na,{SplitPaneProps:Ta,splitPaneSize:n,setSplitPaneSize:a}),Object(H.jsx)(o.a,{style:{width:"100%"},children:Object(H.jsx)(ca,{})})]})})]})})}},562:function(e,t,n){"use strict";var a=n(8),c=(n(86),n(30)),i=(n(987),n(563)),r=(n(121),n(58)),s=(n(324),n(78)),o=n(33),l=n(0),d=(n(47),n(219)),j=n.n(d),u=n(2),b={wrapperCol:{span:24}},O={wrapperCol:{offset:16,span:16}};t.a=function(e){var t=e.history,n=Object(l.useState)(void 0),d=Object(o.a)(n,2),h=d[0],f=d[1];return Object(u.jsx)("div",{className:"login-page",children:Object(u.jsxs)(s.a,Object(a.a)(Object(a.a)({},b),{},{className:"login-form",name:"Login",onFinish:function(e){console.log("Success:",e);var n=new URLSearchParams;n.append("username",e.username),n.append("password",e.password),j.a.post("/login",n).then((function(e){f(!0);var n=e.data;n.redirect&&t.push(n.redirect)})).catch((function(e){return f(!1)}))},onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(u.jsx)(s.a.Item,{children:Object(u.jsx)("div",{className:"logo",children:Object(u.jsx)("img",{src:"data:image/png;base64,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",alt:"Logo",width:"75%"})})}),Object(u.jsx)(s.a.Item,{name:"username",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}],children:Object(u.jsx)(r.a,{placeholder:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})}),Object(u.jsx)(s.a.Item,{name:"password",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}],children:Object(u.jsx)(r.a.Password,{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"})}),!1===h&&Object(u.jsx)(s.a.Item,{children:Object(u.jsx)(i.a,{message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043b\u043e\u0433\u0438\u043d\u0430/\u043f\u0430\u0440\u043e\u043b\u044f",type:"error"})}),Object(u.jsx)(s.a.Item,Object(a.a)(Object(a.a)({},O),{},{className:"mb-0",children:Object(u.jsx)(c.a,{type:"primary",htmlType:"submit",style:{width:"100%"},children:"\u0412\u0445\u043e\u0434"})}))]}))})}},91:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));n(0);var a=n(561),c=n(562),i=e&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MODE:"product",REACT_APP_HOST_MAIN:"https://mobinspect.dias-dev.ru",REACT_APP_HOST_OAUTH:"https://oauth.dias-dev.ru",REACT_APP_VERSION:"1.0.9",REACT_APP_BUILD_DATE:"12.03.2021"})&&"",r={PATH_PREFIX:{title:"Advanced management",path:"".concat(i)},LOGIN:{title:"\u0412\u0445\u043e\u0434",path:"".concat(i,"/login"),component:c.a},APP:{title:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",path:"".concat(i),component:a.d}}}).call(this,n(329))},989:function(e,t,n){},997:function(e,t,n){"use strict";n.r(t);n(572);var a=n(28),c=(n(0),n(52)),i=n.n(c),r=n(559),s=n(77),o=n(83),l=n(119),d=n(538),j=n(29),u=Object(l.c)({rtd:j.q}),b=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:25})||l.d,O=Object(l.e)(u,b(Object(l.a)(d.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var h=n(560),f=n.n(h),p=n(8),x=n(1e3),m=n(1024),g=n(1025),v=n(1017),y=n(1026),w=n(1027),C=n(1028),k=n(1029),I=n(91);Object(p.a)(Object(p.a)({},I.a.APP),{},{icon:x.a}),Object(p.a)(Object(p.a)({},I.a.DEBUG_LIB),{},{icon:m.a}),Object(p.a)(Object(p.a)({},I.a.CONFIGURATIONS_PORTAL_GET),{},{icon:g.a}),Object(p.a)(Object(p.a)({},I.a.CONFIGURATIONS_GET),{},{icon:g.a}),Object(p.a)(Object(p.a)({},I.a.CONFIGURATIONS_PORTAL_SAVE),{},{icon:v.a}),Object(p.a)(Object(p.a)({},I.a.DOCUMENTATION),{},{icon:y.a}),Object(p.a)(Object(p.a)({},I.a.MONITORING),{},{icon:w.a}),Object(p.a)(Object(p.a)({},I.a.TESTING),{},{icon:C.a,children:[I.a.TESTING_LIST,I.a.TESTING_LOGS]}),Object(p.a)(Object(p.a)({},I.a.PLAYGROUND),{},{icon:k.a});n.p;n.p;n.p,n(989);var S=n(55),N=n.n(S);n(990);N.a.locale("ru");var L=n(2);i.a.render(Object(L.jsx)(o.a,{store:O,children:Object(L.jsx)(r.a,{children:Object(L.jsxs)(s.c,{children:[Object(L.jsx)(s.a,{path:I.a.LOGIN.path,component:I.a.LOGIN.component}),Object(L.jsx)(s.a,{path:I.a.PATH_PREFIX.path,children:Object(L.jsx)(a.b,{locale:f.a,children:Object(L.jsx)(s.a,{exact:!0,path:I.a.APP.path,component:I.a.APP.component})})})]})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[997,1,2]]]);
//# sourceMappingURL=main.e1c0a152.chunk.js.map